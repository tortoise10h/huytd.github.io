<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-05-12 Sun 23:50 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Making Rust GUI app with HTML/CSS/JavaScript</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Huy Tran" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="/_css/style.css">
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href=""> UP </a>
 |
 <a accesskey="H" href="/"> HOME </a>
</div><div id="content">
<h1 class="title">Making Rust GUI app with HTML/CSS/JavaScript</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgc8e54cc">1. Ton of choices, but no best choice</a>
<ul>
<li><a href="#org8cbea34">1.1. GTK</a></li>
<li><a href="#orga4518c7">1.2. Cross-platform native GUI&#x2026; wait, what?</a></li>
<li><a href="#org52c9dcc">1.3. JavaFx</a></li>
<li><a href="#orgd01d983">1.4. OpenGL based GUI frameworks</a></li>
<li><a href="#org4014816">1.5. Qt Framework</a></li>
<li><a href="#orgba27a46">1.6. Web-based UI</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
In early 2000s, when most of the world still using Windows, creating GUI applications is such a piece of cake. Visual Studio from Microsoft is the dominating tool that you can use to build anything you want, from desktop apps to games.
</p>

<p>
Almost 20 years later, now people use a lot of platforms, from Linux to macOS, iOS to Android,&#x2026; if you want to acquire more users, you need to support as many platform as you can. And to save up development cost, you have to consider a cross-platform solution to build your applications.
</p>

<p>
But when it comes to cross-platform GUI development, its a painful process, let's take a quick look at current GUI development solution we have. Since this is a post about Rust, I'll just talking about Rust related solutions.
</p>

<div id="outline-container-orgc8e54cc" class="outline-2">
<h2 id="orgc8e54cc"><span class="section-number-2">1</span> Ton of choices, but no best choice</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org8cbea34" class="outline-3">
<h3 id="org8cbea34"><span class="section-number-3">1.1</span> GTK</h3>
<div class="outline-text-3" id="text-1-1">
<p>
On top of the list, the first thing come up when thinking about GUI is GTK, a great platform to build cross platform UI, many great applications built with it, for example, Inkscape or GIMP.
</p>

<p>
But, building GTK on macOS is not quite easy, since it required X11, which is no longer included in macOS.
</p>
</div>
</div>

<div id="outline-container-orga4518c7" class="outline-3">
<h3 id="orga4518c7"><span class="section-number-3">1.2</span> Cross-platform native GUI&#x2026; wait, what?</h3>
<div class="outline-text-3" id="text-1-2">
<p>
I'm talking about <a href="https://github.com/andlabs/libui">libui</a>, or any equivalent (dunno, is there any?). It wraps the native API and provide an interface so you can just write your code once, and run everywhere.
</p>

<p>
This approach is great until you realized you want to give your app some unique looks, or heavily customized UI. How do you create a fancy UI like Slack or Atom with libui? It's not impossible but it would take a lot of pain.
</p>
</div>
</div>

<div id="outline-container-org52c9dcc" class="outline-3">
<h3 id="org52c9dcc"><span class="section-number-3">1.3</span> JavaFx</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Speaking of building fancy apps, JavaFx is a good platform for Java developers, with unlimited ability to customize the UI. The deal breaker for me is you have to ship your app with JRE. Not to mention that we are using Rust here.
</p>
</div>
</div>

<div id="outline-container-orgd01d983" class="outline-3">
<h3 id="orgd01d983"><span class="section-number-3">1.4</span> OpenGL based GUI frameworks</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Here come OpenGL, you build your app as if it's a game. <a href="https://github.com/jwilm/alacritty">Alacritty</a> is a famous terminal emulator using this approach.
</p>

<p>
In Rust, there's <a href="https://github.com/PistonDevelopers/conrod">conrod</a>, a very good library to build OpenGL-based UI. With a lot of widget, and you can easily create your own customized components. Another approach is <a href="https://github.com/ocornut/imgui">ImGui</a>, which is pretty powerful and has been around quite a long time.
</p>

<p>
But power consumption is one of the thing you need to consider. Also, since it's a custom rendered UI in a graphical environment, you will feel the pain when you have to deal with stuff like input methods,&#x2026;
</p>
</div>
</div>

<div id="outline-container-org4014816" class="outline-3">
<h3 id="org4014816"><span class="section-number-3">1.5</span> Qt Framework</h3>
<div class="outline-text-3" id="text-1-5">
<p>
Probably the best approach today. Based on C++, and used in many great applications like Tesla's dashboard UI (well, I don't have a Tesla so I did not see it on my own), or <a href="https://github.com/albertlauncher/albert">albert</a>.
</p>
</div>
</div>

<div id="outline-container-orgba27a46" class="outline-3">
<h3 id="orgba27a46"><span class="section-number-3">1.6</span> Web-based UI</h3>
<div class="outline-text-3" id="text-1-6">
<p>
Finally, the least appreciated way, but the easiest, it just works, and very easy to customize the UI using HTML/CSS. Sound like Electron huh?
</p>

<p>
Apparently, Electron is one of the most popular choice for this approach, it's very easy to use, but it come with so many flaws, from security to memory/battery consumption, to unreasonable large bundle size,&#x2026; but it also come with many helpful features like auto updating,&#x2026; I personally don't like it, mostly because my bad experience with Slack and VSCode, both are very laggy and speed up my computer's fan to a ridiculus loudy state.
</p>

<p>
Without using Electron, you can still use web-based UI for your applications. It's just an old techniques, that you will ship your app with a small portion of code to add a native webview component and load up your frontend code.
</p>

<p>
I made a <a href="https://github.com/huytd/kanban-app">tiny application using this technique</a>, with Elm for the web UI and Rust for the desktop client, the total bundle size is just 800KB, comparing to 100MB that you will have to ship with Electron.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2019-01-19 Sat 00:00</p>
<p class="author">Author: Huy Tran</p>
<p class="date">Created: 2019-05-12 Sun 23:50</p>
<p class="validation"></p>
</div>
</body>
</html>

<html>
    <head>
        <title> OrgMode tr√™n Vim | Huy's Blog</title>
        <meta charset="utf-8">
        <meta http-equiv="content-type" content="text/html;"><meta name=viewport content="initial-scale=1.0 maximum-scale=1.0">
        
        <link href="../css/inconsolata.css" rel="stylesheet" type="text/css">
        <link href="../css/theme.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../css/highlight/tomorrow.css">
        <link rel="stylesheet" href="../css/fontello.css">
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/autosizing.js"></script>
        <script>
        hljs.initHighlightingOnLoad();
        </script>
    </head>
    <body>
        <div class="header">
            <a href="/"><i class="icon icon-emo-coffee"></i> Huy's Blog</a>
        </div>
        <div class="container">
            <div class="main">
                <h1 id="orgmode-tr-n-vim">OrgMode tr√™n Vim</h1>
<p><strong>OrgMode</strong> l√† m·ªôt ch·ª©c nƒÉng r·∫•t h·ªØu d·ª•ng tr√™n Emacs.</p>
<p>B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng <strong>OrgMode</strong> ƒë·ªÉ qu·∫£n l√Ω c√¥ng vi·ªác (todo list), hay l√†m c√¥ng c·ª• so·∫°n th·∫£o n·ªôi dung c√≥ tr√¨nh b√†y m·ªôt c√°ch h·ªá th·ªëng,... t√πy theo nhu c·∫ßu c√° nh√¢n.</p>
<p>Tr√™n Vim, ch√∫ng ta c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng <strong>OrgMode</strong> b·∫±ng c√°ch c√†i plugin <code>vim-orgmode</code>.</p>
<h2 id="c-i-t">C√†i ƒë·∫∑t</h2>
<p>C√†i v·ªõi VimPlug ho·∫∑c Vundle,... nh∆∞ sau:</p>
<pre><code>Plug &#39;jceb/vim-orgmode&#39;
Plug &#39;tpope/vim-speeddating&#39;
</code></pre><p>Ngo√†i plugin n√†y ch√∫ng ta c√≥ c√†i th√™m plugin <code>vim-speeddating</code> ƒë·ªÉ s·ª≠ d·ª•ng ch·ª©c nƒÉng insert ng√†y th√°ng.</p>
<p>Ch√∫ng ta c√≥ th·ªÉ c·∫•u h√¨nh m·ªôt v√†i ph√≠m t·∫Øt th√¥ng d·ª•ng (s·∫Ω gi·∫£i th√≠ch b√™n d∆∞·ªõi):</p>
<pre><code>&quot; OrgMode Keys
nnoremap &lt;Leader&gt;&lt;Tab&gt; :OrgCheckBoxToggle&lt;CR&gt;
nnoremap &lt;Leader&gt;nc :OrgCheckBoxNewBelow&lt;CR&gt;
nnoremap &lt;Leader&gt;nd :OrgDateInsertTimestampActiveCmdLine&lt;CR&gt;
nnoremap &lt;Leader&gt;td :OrgBufferAgendaTodo&lt;CR&gt;
nnoremap &lt;Leader&gt;wa :OrgBufferAgendaWeek&lt;CR&gt;
</code></pre><h2 id="s-d-ng">S·ª≠ d·ª•ng</h2>
<p>Sau khi c√†i ƒë·∫∑t xong th√¨ Vim s·∫Ω t·ª± ƒë·ªông chuy·ªÉn sang <code>orgmode</code> khi m·ªü m·ªôt file <code>*.org</code> b·∫•t k√¨.</p>
<p>Gi·∫£ s·ª≠ ch√∫ng ta c√≥ file <code>~/today.org</code>, m·ªü file n√†y v·ªõi vim b·∫°n s·∫Ω th·∫•y k√≠ hi·ªáu <code>org</code> ·ªü ph·∫ßn filetype, cho bi·∫øt ƒë√¢y l√† file m·ªü d·∫°ng <code>orgmode</code>, n·∫øu kh√¥ng th·∫•y th√¨ ch√∫ng ta c√≥ th·ªÉ set filetype t·ª± ƒë·ªông b·∫±ng l·ªánh:</p>
<pre><code>:set ft=org
</code></pre><h3 id="heading">Heading</h3>
<p>Heading l√† c√°c ƒë·∫ßu m·ª•c ƒë·ªÉ b·∫°n c√≥ th·ªÉ d·ªÖ d√†ng ph√¢n lo·∫°i, t·ªï ch·ª©c n·ªôi dung c·ªßa m√¨nh (t∆∞∆°ng t·ª± c√°c th·∫ª <code>h1</code>, <code>h2</code>,... trong HTML)</p>
<h4 id="ch-n-heading">Ch√®n heading</h4>
<p>ƒê·ªÉ ch√®n m·ªôt ƒë·∫ßu m·ª•c (heading), b·∫°n d√πng c√°c d·∫•u sao <code>*</code> theo th·ª© t·ª± c·ªßa n√≥, v√≠ d·ª•:</p>
<pre><code>* Heading level 1
** Heading level 2
*** Heading level 3
** Another Heading level 2
</code></pre><h4 id="di-chuy-n-gi-a-c-c-heading">Di chuy·ªÉn gi·ªØa c√°c heading</h4>
<p>Khi ƒë·ª©ng t·∫°i m·ªôt heading, b·∫°n c√≥ th·ªÉ g√µ <code>}</code> ho·∫∑c <code>{</code> ƒë·ªÉ nh·∫£y nhanh t·ªõi c√°c heading ti·∫øp theo/tr∆∞·ªõc ƒë√≥.</p>
<h4 id="n-ng-c-p-gi-ng-c-p-heading">N√¢ng c·∫•p, gi√°ng c·∫•p heading</h4>
<p>B·∫°n c≈©ng c√≥ th·ªÉ chuy·ªÉn m·ªôt heading level 1 th√†nh level 2 (gi√°ng c·∫•p - demote) ho·∫∑c m·ªôt heading level 3 th√†nh level 2 (n√¢ng c·∫•p - promote) b·∫±ng c√°ch g√µ <code>&gt;&gt;</code> ho·∫∑c <code>&lt;&lt;</code>.</p>
<h4 id="-ng-m-heading">ƒê√≥ng/m·ªü heading</h4>
<p>ƒê·ª©ng t·∫°i m·ªôt heading, b·∫°n c√≥ th·ªÉ nh·∫•n ph√≠m <code>TAB</code> ho·∫∑c <code>SHIFT-TAB</code> ƒë·ªÉ ƒë√≥ng (collapse) ho·∫∑c m·ªü (expand) heading ƒë√≥ v√† t·∫•t c·∫£ c√°c heading con b√™n trong n√≥ theo th·ª© t·ª± xoay v√≤ng:</p>
<pre><code>  ,-&gt; FOLDED -&gt; CHILDREN -&gt; SUBTREE --.
  &#39;-----------------------------------&#39;
</code></pre><h3 id="task">Task</h3>
<p>Trong m·ªói heading, b·∫°n c√≥ th·ªÉ g√µ v√†o b·∫•t k√¨ n·ªôi dung g√¨ b·∫°n mu·ªën. Trong tr∆∞·ªùng h·ª£p s·ª≠ d·ª•ng <code>orgmode</code> ƒë·ªÉ l√†m todo list, th√¨ n·ªôi dung b·∫°n g√µ nhi·ªÅu nh·∫•t ƒë√≥ ch√≠nh l√† c√°c task.</p>
<h4 id="ch-n-task">Ch√®n task</h4>
<p>ƒê·ªÉ ch√®n m·ªôt task ta c√≥ th·ªÉ ch√®n theo c√∫ ph√°p sau:</p>
<pre><code>- [ ] &lt;n·ªôi dung task&gt;
</code></pre><p>ƒê√¢y l√† m·ªôt task d·∫°ng check box ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ tick v√†o ho·∫∑c b·ªè tick n√≥ b·∫•t c·ª© l√∫c n√†o.</p>
<p>ƒê·ªÉ ch√®n nhanh, c√≥ th·ªÉ x√†i ph√≠m t·∫Øt ƒë√£ config ·ªü tr√™n kia l√† <code>&lt;Leader&gt;nc</code> (<strong>n-c</strong> c√≥ nghƒ©a l√† new check).</p>
<h4 id="tick-v-b-tick">Tick v√† b·ªè tick</h4>
<p>ƒê·ªÉ tick v√†o m·ªôt task, b·∫°n ƒëi·ªÅn d·∫•u <code>X</code> v√†o ph·∫ßn tr·ªëng gi·ªØa d·∫•u ngo·∫∑c vu√¥ng <code>[ ]</code>:</p>
<pre><code>- [X] &lt;n·ªôi dung task&gt;
</code></pre><p>Ho·∫∑c tick t·ª± ƒë·ªông b·∫±ng ph√≠m <code>&lt;Leader&gt;&lt;Tab&gt;</code>.</p>
<p>L·∫∑p l·∫°i thao t√°c n√†y s·∫Ω b·ªè tick.</p>
<h3 id="l-m-vi-c-v-i-agenda">L√†m vi·ªác v·ªõi agenda</h3>
<p>Agenda l√† m·ªôt ch·ª©c nƒÉng c·ª±c k√¨ hay gi√∫p t·ªïng h·ª£p n·ªôi dung tr√™n file <code>org</code> hi·ªán t·∫°i th√†nh m·ªôt b·∫£ng t√≥m t·∫Øt, cho ch√∫ng ta c√°i nh√¨n t·ªïng quan v·ªÅ c√°c task ·ªü tr·∫°ng th√°i <code>TODO</code>, ho·∫∑c t√≥m t·∫Øt theo ng√†y, theo tu·∫ßn.</p>
<h4 id="tr-ng-th-i-todo-done">Tr·∫°ng th√°i TODO/DONE</h4>
<p>B·∫°n c√≥ th·ªÉ th√™m tr·∫°ng th√°i <code>TODO</code> ho·∫∑c <code>DONE</code> v√†o ƒë·∫ßu m·ªói heading ƒë·ªÉ d·ªÖ d√†ng theo d√µi v√† ƒë·ªÉ kh·ªüi t·∫°o agenda, v√≠ d·ª•:</p>
<pre><code>* Today
** TODO Project A
  ...
** DONE Project B
</code></pre><p>N·ªôi dung nh∆∞ tr√™n c√≥ nghƒ©a l√† m·ª•c <code>Project A</code> ƒëang ·ªü tr·∫°ng th√°i <code>TODO</code> v√† m·ª•c <code>Project B</code> ·ªü tr·∫°ng th√°i <code>DONE</code>.</p>
<p>C√°c n·ªôi dung c√≥ tr·∫°ng th√°i <code>DONE</code> s·∫Ω kh√¥ng ƒë∆∞·ª£c hi·ªán ra khi xem agenda.</p>
<h4 id="ch-n-ng-y-th-ng">Ch√®n ng√†y th√°ng</h4>
<p>ƒê·ªÉ ch√®n ng√†y th√°ng t·∫°i v·ªã tr√≠ hi·ªán t·∫°i c·ªßa con tr·ªè, ch√∫ng ta d√πng l·ªánh <code>&lt;Leader&gt;nd</code> (<strong>n-d</strong> l√† new date).</p>
<p>D√≤ng l·ªánh hi·ªán ra cho ph√©p b·∫°n ch·ªçn ng√†y hi·ªán t·∫°i b·∫±ng c√°ch nh·∫•n <code>&lt;Enter&gt;</code>, ho·∫∑c tƒÉng gi·∫£m s·ªë ng√†y b·∫±ng c√°ch g√µ v√†o, v√≠ d·ª•: <code>+1d</code> (tƒÉng 1 ng√†y), <code>+4w</code> (tƒÉng 4 tu·∫ßn), <code>-5m</code> (gi·∫£m 5 th√°ng),...</p>
<h4 id="xem-agenda-c-c-task-todo">Xem agenda c√°c task TODO</h4>
<p>ƒê·ªÉ xem danh s√°ch c√°c m·ª•c c√≥ tr·∫°ng th√°i <code>TODO</code>, ta g√µ <code>&lt;Leader&gt;td</code> (<strong>t-d</strong> t·ª©c l√† todo).</p>
<p>Khi ·ªü m√†n h√¨nh danh s√°ch To Do, b·∫°n c√≥ th·ªÉ d√πng ph√≠m <code>&lt;Tab&gt;</code> ƒë·ªÉ nh·∫£y ƒë·∫øn n·ªôi dung t∆∞∆°ng ·ª©ng tr√™n file.</p>
<h4 id="xem-agenda-trong-tu-n">Xem agenda trong tu·∫ßn</h4>
<p>ƒê·ªÉ xem danh s√°ch c√°c task c·∫ßn l√†m trong tu·∫ßn, ch√∫ng ta d√πng l·ªánh <code>&lt;Leader&gt;wa</code> (<strong>w-a</strong> l√† weekly agenda).</p>
<hr>
<p>Tr√™n ƒë√¢y l√† m·ªôt v√†i thao t√°c c∆° b·∫£n ƒë·ªÉ b·∫°n c√≥ th·ªÉ b·∫Øt ƒë·∫ßu s·ª≠ d·ª•ng <code>vim-orgmode</code> m·ªôt c√°ch hi·ªáu qu·∫£. Trong qu√° tr√¨nh s·ª≠ d·ª•ng, b·∫°n c√≥ th·ªÉ t√¨m hi·ªÉu th√™m th√¥ng qua h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng c·ªßa <code>vim-orgmode</code> <a href="https://github.com/jceb/vim-orgmode/blob/master/doc/orgguide.txt">tr√™n Github</a> ƒë·ªÉ l√†m vi·ªác hi·ªáu qu·∫£ h∆°n nh√©.</p>
<p>Happy vimming ^^</p>
<div class='other-tags'><b>Tags:</b> <a class='topic-tag' href='https://huytd.github.io/tags/vim.html'>vim</a><a class='topic-tag' href='https://huytd.github.io/tags/orgmode.html'>orgmode</a><a class='topic-tag' href='https://huytd.github.io/tags/emacs.html'>emacs</a></div>
                <div class="copyright">
                B·∫°n ƒë∆∞·ª£c t√πy √Ω b·∫•m like, tr√≠ch d·∫´n ho·∫∑c copy, post l·∫°i, nh∆∞ng vui l√≤ng ghi r√µ ngu·ªìn v√† t√°c gi·∫£ v√† kh√¥ng l√†m thay ƒë·ªïi n·ªôi dung b√†i vi·∫øt. N·∫øu kh√¥ng l√†m v·∫≠y, m√¨nh hy v·ªçng t·ª´ nay v·ªÅ sau b·∫°n s·∫Ω lu√¥n c·∫£m th·∫•y c·∫Øn r·ª©t l∆∞∆°ng t√¢m, ƒÉn kh√¥ng ngon, ng·ªß kh√¥ng y√™n. üòÜ
                </div>
                <!-- Comment -->
                <div class="comments">
                  <div id="comment-loading" class="loading"></div>
                  <div id="login-box" class="login">
                    B·∫°n c·∫ßn <button onclick="login()">Login</button> ƒë·ªÉ comment
                  </div>
                  <div id="comment-box" class="comment-input">
                    <div class="avatar">
                      <img id="user-avatar" src="" width="32" height="32"/>
                    </div>
                    <div class="input">
                      <textarea id="comment-content" onkeyup="autoSizing(this)" onkeydown="submitComment(event)" placeholder="Comment g√µ v√†o ƒë√¢y :D"></textarea>
                      <span>G√µ xong nh·∫•n <kbd>Ctrl</kbd> + <kbd>Enter</kbd> ƒë·ªÉ g·ª≠i.</span>
                    </div>
                  </div>
                  <ul id="comment-list" class="comment-list"></ul>
                </div>
                <!-- End Comment -->
            </div>
        </div>
	    <div class="footer">
            <p>Created with <a href="http://github.com/huytd/azeroth-js">azeroth.js</a></p>
            <div class="social">
                <a target="_blank" href="http://facebook.com/kingbazoka"><i class="icon-facebook-squared"></i></a>
                <a target="_blank" href="http://twitter.com/huydotnet"><i class="icon-twitter-squared"></i></a>
                <a target="_blank" href="http://github.com/huytd"><i class="icon-github-squared"></i></a>
                <a target="_blank" href="https://thefullsnack.com"><i class="icon-emo-coffee"></i></a>
            </div>
        </div>
        <script type="text/javascript" async src="https://cdn.rawgit.com/mathjax/MathJax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            skipTags: ["script","noscript","style","textarea"]
          }
        });
        </script>
        <script src="https://www.gstatic.com/firebasejs/3.8.0/firebase.js"></script>
        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyA1PnIAlJJ-U6iQJMNnCOknBuziBqGMYcY",
            authDomain: "huys-blog-comment.firebaseapp.com",
            databaseURL: "https://huys-blog-comment.firebaseio.com",
            projectId: "huys-blog-comment",
            storageBucket: "huys-blog-comment.appspot.com",
            messagingSenderId: "317330376829"
          };
          firebase.initializeApp(config);
        </script>
        <script>
          let provider = new firebase.auth.GoogleAuthProvider();
          let auth = firebase.auth();
          let currentUser = null;
          let postCommentURL = 'posts/vim-org-mode/comments';

          auth.onAuthStateChanged(function(user) {
            document.getElementById("comment-loading").style.display = "none";
            if (user) {
              currentUser = user;
              // Logged in
              document.getElementById("login-box").style.display = "none";
              document.getElementById("comment-box").style.display = "flex";
              document.getElementById("user-avatar").setAttribute("src", user.photoURL);
            } else {
              // Not login yet
              document.getElementById("comment-box").style.display = "none";
              document.getElementById("login-box").style.display = "block";
            }
          });

          const login = function() {
            auth.signInWithPopup(provider)
              .then(function(result) {
              }).catch(function(err) {
              });
          };

          const encodeHTML = function(s) {
            return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/"/g, '&quot;');
          };

          const saveNewComment = function(comment) {
            if (!currentUser) {
              return;
            }
            let commentData = {
              user: currentUser.displayName,
              avatar: currentUser.photoURL,
              time: (new Date()).toISOString(),
              message: encodeHTML(comment)
            };
            database.ref(postCommentURL).push(commentData);
            document.getElementById("comment-content").value = "";
          };

          const submitComment = function(e) {
            let keyCode = e.which || e.keyCode;
            let ctrlCode = e.ctrlKey || e.metaKey;
            if (keyCode === 13 && ctrlCode) {
              let comment = document.getElementById("comment-content").value;
              saveNewComment(comment);
            }
          };

          const addNewComment = function(user, avatar, time, comment) {
            let commentFiltered = encodeHTML(comment);
            let d = new Date(time);
            let commentTime = d.toLocaleTimeString() + ' ' + d.toLocaleDateString();
            let html = '<div class="avatar">' +
              '   <img src="' + avatar + '" width="32" height="32"/>' +
              ' </div>' +
              '<div class="comment">' +
              '  <div class="metadata"><b>' + user + '</b> l√∫c <span>' + commentTime + '</span></div>' +
              '  <div class="content">' + commentFiltered
              '  </div>' +
              '</div>';
            let li = document.createElement('li');
            li.innerHTML = html;
            document.getElementById("comment-list").append(li);
          };

          let database = firebase.database();
          let posts = database.ref(postCommentURL).orderByChild('time');
          posts.on('child_added', function(data) {
            addNewComment(data.val().user, data.val().avatar, data.val().time, data.val().message);
          });
        </script>
    </body>
</html>

<html>
    <head>
        <title> DÃ¹ng Vim lÃ m REST API client | Huy's Blog</title>
        <meta charset="utf-8">
        <meta http-equiv="content-type" content="text/html;"><meta name=viewport content="initial-scale=1.0 maximum-scale=1.0">
        
        <link href="../css/inconsolata.css" rel="stylesheet" type="text/css">
        <link href="../css/theme.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../css/highlight/tomorrow.css">
        <link rel="stylesheet" href="../css/fontello.css">
        <script src="../js/highlight.pack.js"></script>
        <script>
        hljs.initHighlightingOnLoad();
        </script>
    </head>
    <body>
        <div class="header">
            <a href="/"><i class="icon icon-emo-coffee"></i> Huy's Blog</a>
        </div>
        <div class="container">
            <div class="main">
                <h1 id="d-ng-vim-l-m-rest-api-client">DÃ¹ng Vim lÃ m REST API client</h1>
<p>ThÆ°á»ng thÃ¬ khi cáº§n test API, chÃºng ta sáº½ dÃ¹ng cÃ¡c HTTP client nhÆ° lÃ  Postman, tuy nhiÃªn cÃ¡i nÃ y cÃ³ má»™t nhÆ°á»£c Ä‘iá»ƒm Ä‘Ã³ lÃ  nÃ³... xÃ i GUI. </p>
<p>VÃ  má»™t Vim user chÃ¢n chÃ­nh sáº½ ráº¥t lÃ  khÃ´ng thoáº£i mÃ¡i náº¿u cá»© pháº£i nháº£y qua nháº£y láº¡i giá»¯a mÃ n hÃ¬nh terminal vÃ  má»™t á»©ng dá»¥ng GUI cá»§ chuá»‘i nÃ o Ä‘Ã³.</p>
<p>Má»™t giáº£i phÃ¡p Ä‘á»ƒ báº¡n váº«n Ä‘Æ°á»£c yÃªn pháº­n vá»›i mÃ n hÃ¬nh terminal Ä‘en ngÃ²m Ä‘Ã³ lÃ  dÃ¹ng <code>curl</code>.</p>
<p>Tuy nhiÃªn Ä‘á»i chá»‰ Ä‘áº¹p náº¿u ta xÃ i <code>curl</code> vá»›i nhá»¯ng request Ä‘Æ¡n giáº£n, vÃ i ba params nho nhá». Trong trÆ°á»ng há»£p má»™t request cÃ³ hÃ ng chá»¥c parameters, hoáº·c truyá»n vÃ o vÃ i ba cÃ¡i header má»—i cÃ¡i dÃ i hÆ¡n trÄƒm kÃ­ tá»± thÃ¬ cháº¯c khÃ´ng ai Ä‘á»§ kiÃªn nháº«n Ä‘á»ƒ xÃ i <code>curl</code> ná»¯a.</p>
<p>TrÆ°á»›c thá»±c tráº¡ng nhá»©c nhá»‘i nÃ y thÃ¬ mÃ¬nh tÃ­nh viáº¿t má»™t plugin cho Vim Ä‘á»ƒ xÃ i, Ã½ tÆ°á»Ÿng lÃ  viáº¿t sáºµn cáº¥u trÃºc cá»§a má»™t request vÃ o buffer cá»§a Vim, rá»“i báº¥m nÃºt 1 phÃ¡t cho nÃ³ tá»± gá»i <code>curl</code> thay mÃ¬nh.</p>
<p>Ráº¥t may cho sáº¿p cá»§a mÃ¬nh, vÃ¬ mÃ¬nh Ä‘Ã£ tÃ¬m Ä‘Æ°á»£c má»™t plugin ngÆ°á»i ta viáº¿t sáºµn trÃªn máº¡ng, nÃªn mÃ¬nh ko cáº§n ngá»“i lÃ m viá»‡c riÃªng trong giá» lÃ m viá»‡c ná»¯a.</p>
<p>MÃ  cÃ²n Ä‘iá»u nÃ y ná»¯a, thá»±c ra nÃ£y giá» báº¡n khÃ´ng cáº§n pháº£i Ä‘á»c nhá»¯ng gÃ¬ mÃ¬nh viáº¿t trÃªn kia Ä‘Ã¢u, vÃ¬ Ä‘Ã¢y má»›i báº¯t Ä‘áº§u pháº§n chÃ­nh nÃ¨ :v </p>
<h2 id="plugin-vim-rest-console">Plugin: Vim Rest Console</h2>
<p><a href="https://github.com/diepm/vim-rest-console">vim-rest-console</a> lÃ  má»™t plugin giÃºp gá»­i/nháº­n request tá»›i RESTAPI server, ráº¥t tiá»‡n dá»¥ng Ä‘á»ƒ test ngay trong Vim.</p>
<p>Plugin nÃ y cÃ³ thá»ƒ xÃ i thoáº£i mÃ¡i vá»›i Vim vÃ  Neovim, miá»…n lÃ  mÃ¡y tÃ­nh cáº§n cÃ³ <code>curl</code>.</p>
<h3 id="c-i-t">CÃ i Ä‘áº·t</h3>
<p>CÃ i vá»›i cÃ¡c plugin manager nhÆ° VimPlug hay Vundle:</p>
<pre><code>Plug &#39;diepm/vim-rest-console&#39;
</code></pre><p>Hoáº·c náº¿u báº¡n xÃ i pathogen thÃ¬ cÃ i theo cÃ¡ch sau:</p>
<pre><code>cd ~/.vim/bundle
git clone https://github.com/diepm/vim-rest-console.git
</code></pre><h3 id="s-d-ng">Sá»­ dá»¥ng</h3>
<p>Báº¡n cÃ³ thá»ƒ má»Ÿ vim ra vÃ  gÃµ ngay hoáº·c táº¡o má»™t file cÃ³ Ä‘uÃ´i <code>.rest</code> Ä‘á»ƒ dÃ¹ng hoáº·c tiá»‡n lÆ°u láº¡i vá» sau.</p>
<p>Náº¿u má»Ÿ buffer trá»±c tiáº¿p thÃ¬ cÃ³ thá»ƒ dÃ¹ng lá»‡nh sau Ä‘á»ƒ cÃ³ syntax highlighting:</p>
<pre><code>:set ft=rest
</code></pre><p>Sau Ä‘Ã³ gÃµ cáº¥u trÃºc request theo dáº¡ng:</p>
<pre><code>http(s)://&lt;host&gt;:&lt;port&gt;
&lt;danh sÃ¡ch header náº¿u cÃ³&gt;
&lt;METHOD&gt; &lt;endpoint&gt;
&lt;request body&gt;
</code></pre><p>VÃ­ dá»¥:</p>
<pre><code>https://facebook.com/api/v1
Content-Type: application/json
Pragma: no-cache
POST /delete_user/
{
  &quot;username&quot;: &quot;markzuck&quot;
}
</code></pre><p>Náº¿u báº¡n muá»‘n gá»­i má»™t <code>POST</code> request Ä‘áº¿n <code>https://facebook.com/api/v1/delete_user</code> vá»›i request body lÃ  <code>username: markzuck</code>.</p>
<p>Sau khi gÃµ xong ná»™i dung request, nháº¥m <code>Ctrl + J</code> Ä‘á»ƒ báº¯t Ä‘áº§u gá»­i request Ä‘i. </p>
<p>Vim sáº½ táº¡o ra má»™t split má»›i Ä‘á»ƒ hiá»‡n káº¿t quáº£ request. Ráº¥t lÃ  tiá»‡n lá»£i.</p>
<div class='other-tags'><b>Tags:</b> <a class='topic-tag' href='https://huytd.github.io/tags/vim.html'>vim</a><a class='topic-tag' href='https://huytd.github.io/tags/plugin.html'>plugin</a><a class='topic-tag' href='https://huytd.github.io/tags/http.html'>http</a></div>
                <div class="copyright">
                Báº¡n Ä‘Æ°á»£c tÃ¹y Ã½ báº¥m like, trÃ­ch dáº«n hoáº·c copy, post láº¡i, nhÆ°ng vui lÃ²ng ghi rÃµ nguá»“n vÃ  tÃ¡c giáº£ vÃ  khÃ´ng lÃ m thay Ä‘á»•i ná»™i dung bÃ i viáº¿t. Náº¿u khÃ´ng lÃ m váº­y, mÃ¬nh hy vá»ng tá»« nay vá» sau báº¡n sáº½ luÃ´n cáº£m tháº¥y cáº¯n rá»©t lÆ°Æ¡ng tÃ¢m, Äƒn khÃ´ng ngon, ngá»§ khÃ´ng yÃªn. ğŸ˜†
                </div>
            </div>
        </div>
	    <div class="footer">
            <p>Created with <a href="http://github.com/huytd/azeroth-js">azeroth.js</a></p>
            <div class="social">
                <a target="_blank" href="http://facebook.com/kingbazoka"><i class="icon-facebook-squared"></i></a>
                <a target="_blank" href="http://twitter.com/huydotnet"><i class="icon-twitter-squared"></i></a>
                <a target="_blank" href="http://github.com/huytd"><i class="icon-github-squared"></i></a>
                <a target="_blank" href="https://thefullsnack.com"><i class="icon-emo-coffee"></i></a>
            </div>
        </div>
        <script type="text/javascript" async src="https://cdn.rawgit.com/mathjax/MathJax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            skipTags: ["script","noscript","style","textarea"]
          }
        });
        </script>
    </body>
</html>

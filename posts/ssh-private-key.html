<html>
    <head>
        <title> Cáº¥u hÃ¬nh login SSH báº±ng private key | Huy's Blog</title>
        <meta charset="utf-8">
        <meta http-equiv="content-type" content="text/html;"><meta name=viewport content="initial-scale=1.0 maximum-scale=1.0">
        
        <link href="../css/inconsolata.css" rel="stylesheet" type="text/css">
        <link href="../css/theme.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../css/highlight/tomorrow.css">
        <link rel="stylesheet" href="../css/fontello.css">
        <script src="../js/highlight.pack.js"></script>
        <script>
        hljs.initHighlightingOnLoad();
        </script>
    </head>
    <body>
        <div class="header">
            <a href="/"><i class="icon icon-emo-coffee"></i> Huy's Blog</a>
        </div>
        <div class="container">
            <div class="main">
                <h1 id="c-u-h-nh-login-ssh-b-ng-private-key">Cáº¥u hÃ¬nh login SSH báº±ng private key</h1>
<p>Äá»ƒ cÃ³ thá»ƒ káº¿t ná»‘i vÃ o SSH server báº±ng public-private key, Ä‘áº§u tiÃªn chÃºng ta pháº£i khá»Ÿi táº¡o cáº·p RSA key trÃªn mÃ¡y tÃ­nh cÃ¡ nhÃ¢n.</p>
<h2 id="b-c-1-kh-i-t-o-rsa-key">BÆ°á»›c 1: Khá»Ÿi táº¡o RSA key</h2>
<p><strong>TrÃªn mÃ¡y tÃ­nh cÃ¡ nhÃ¢n</strong>, gÃµ lá»‡nh:</p>
<pre><code>ssh-keygen -t rsa -b 2048 -v
</code></pre><p>Lá»‡nh nÃ y táº¡o ra má»™t key RSA 2048 bit. Khi cháº¡y thÃ¬ <code>ssh-keygen</code> sáº½ yÃªu cáº§u chÃºng ta nháº­p tÃªn cá»§a key vÃ o, cÃ³ thá»ƒ chá»n má»™t cÃ¡i tÃªn dá»… nhá»›, thÆ°á»ng lÃ  tÃªn server, vÃ­ dá»¥ <code>gariim</code>:</p>
<div class="box-white" style="padding: 10px;">
Generating public/private rsa key pair.<br/>
Enter file in which to save the key (/home/anonymouse/.ssh/id_rsa): <strong>gariim</strong><br/>
...
</div>

<p>CÃ¡c thÃ´ng tin khÃ¡c nhÆ° passphrase cÃ³ thá»ƒ nháº­p vÃ o hay Ä‘á»ƒ trá»‘ng tÃ¹y Ã½.</p>
<p>Sau khi cháº¡y xong, truy cáº­p vÃ o thÆ° má»¥c <code>~/.ssh~</code> sáº½ tháº¥y cÃ³ 2 file:</p>
<ul>
<li><strong>gariim</strong>: &#9; Ä‘Ã¢y chÃ­nh lÃ  private key, cáº§n lÆ°u kÄ© trong mÃ¡y, khÃ´ng Ä‘á»ƒ lá»™ ra ngoÃ i.</li>
<li><strong>gariim.pub</strong>: &#9; Ä‘Ã¢y lÃ  public key, cÃ³ thá»ƒ Ä‘em copy lÃªn báº¥t kÃ¬ server nÃ o Ä‘á»ƒ nÃ³ cÃ³ thá»ƒ nháº­n diá»‡n ra mÃ¡y tÃ­nh cá»§a mÃ¬nh.</li>
</ul>
<h2 id="b-c-2-copy-public-key-l-n-server">BÆ°á»›c 2: Copy public key lÃªn server</h2>
<p>Tiáº¿p theo, chÃºng ta cáº§n Ä‘Äƒng kÃ½ Ä‘á»ƒ server cÃ³ thá»ƒ nháº­n dáº¡ng Ä‘Æ°á»£c RSA key cá»§a mÃ¬nh. Äá»ƒ lÃ m Ä‘iá»u nÃ y, dÃ¹ng lá»‡nh <code>ssh-copy-id</code> nhÆ° sau:</p>
<pre><code>ssh-copy-id -i ~/gariim.pub root@doumacia.gariim.com
</code></pre><p>Cáº§n pháº£i nháº­p máº­t kháº©u server Ä‘á»ƒ cÃ³ thá»ƒ copy. Sau khi copy thÃ nh cÃ´ng thÃ¬ chÃºng ta cÃ³ thá»ƒ login báº±ng private key ngay.</p>
<h2 id="b-c-3-login-b-ng-private-key">BÆ°á»›c 3: Login báº±ng private key</h2>
<p>BÃ¢y giá» thá»­ login vÃ o server báº±ng private key vá»«a táº¡o:</p>
<pre><code>ssh -i ~/.ssh/gariim root@doumacia.gariim.com
</code></pre><p>Náº¿u Ä‘Ã£ copy thÃ nh cÃ´ng public key lÃªn server thÃ¬ quÃ¡ trÃ¬nh login sáº½ diá»…n ra suÃ´ng sáº», má»—i lÃºc login, server sáº½ Ä‘á»‘i chiáº¿u private key cá»§a chÃºng ta vá»›i public key mÃ  nÃ³ cÃ³ Ä‘á»ƒ xÃ¡c thá»±c.</p>
<h2 id="b-c-4-c-u-h-nh-t-ng-ch-n-private-key-client">BÆ°á»›c 4: Cáº¥u hÃ¬nh tá»± Ä‘á»™ng chá»n private key á»Ÿ Client</h2>
<p>Náº¿u cáº£m tháº¥y má»—i láº§n login pháº£i gÃµ thÃªm tham sá»‘ <code>-i ~/.ssh/gariim</code> phiá»n phá»©c quÃ¡ thÃ¬ cÃ³ thá»ƒ cáº¥u hÃ¬nh Ä‘á»ƒ mÃ¡y tÃ­nh tá»± Ä‘á»™ng nháº­p private key.</p>
<p>á» mÃ¡y client, táº¡o má»™t file <code>~/.ssh/config</code>, ná»™i dung nhÆ° sau:</p>
<pre><code>Host gariim doumacia.gariim.com
Hostname doumacia.gariim.com
User root
IdentityFile ~/.ssh/gariim
</code></pre><p>Tá»« bÃ¢y giá» má»—i lÃºc login chá»‰ cáº§n gÃµ nhÆ° tháº¿ nÃ y:</p>
<pre><code>ssh gariim
</code></pre>
                <div class="copyright">
                Báº¡n Ä‘Æ°á»£c tÃ¹y Ã½ báº¥m like, trÃ­ch dáº«n hoáº·c copy, post láº¡i, nhÆ°ng vui lÃ²ng ghi rÃµ nguá»“n vÃ  tÃ¡c giáº£ vÃ  khÃ´ng lÃ m thay Ä‘á»•i ná»™i dung bÃ i viáº¿t. Náº¿u khÃ´ng lÃ m váº­y, mÃ¬nh hy vá»ng tá»« nay vá» sau báº¡n sáº½ luÃ´n cáº£m tháº¥y cáº¯n rá»©t lÆ°Æ¡ng tÃ¢m, Äƒn khÃ´ng ngon, ngá»§ khÃ´ng yÃªn. ğŸ˜†
                </div>
            </div>
        </div>
	    <div class="footer">
            <p>Created with <a href="http://github.com/huytd/azeroth-js">azeroth.js</a></p>
            <div class="social">
                <a target="_blank" href="http://facebook.com/kingbazoka"><i class="icon-facebook-squared"></i></a>
                <a target="_blank" href="http://twitter.com/huydotnet"><i class="icon-twitter-squared"></i></a>
                <a target="_blank" href="http://github.com/huytd"><i class="icon-github-squared"></i></a>
                <a target="_blank" href="https://thefullsnack.com"><i class="icon-emo-coffee"></i></a>
            </div>
        </div>
        <script type="text/javascript" async src="https://cdn.rawgit.com/mathjax/MathJax/2.7.0/MathJax.js"></script>
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            skipTags: ["script","noscript","style","textarea"]
          }
        });
        </script>
    </body>
</html>

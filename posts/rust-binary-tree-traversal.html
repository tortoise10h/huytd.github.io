<html>
    <head>
        <title> Implement b√†i to√°n duy·ªát c√¢y nh·ªã ph√¢n v·ªõi Rust | Huy's Blog</title>
        <meta charset="utf-8">
        <meta http-equiv="content-type" content="text/html;"><meta name=viewport content="initial-scale=1.0 maximum-scale=1.0">
        
        <link href="../css/theme.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../css/highlight/tomorrow.css">
        <link rel="stylesheet" href="../css/fontello.css">
        <script src="../js/highlight.pack.js"></script>
        <script>
        hljs.initHighlightingOnLoad();
        </script>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    </head>
    <body>
        <div class="header">
            <a href="/"><i class="icon icon-emo-coffee"></i> Huy's Blog</a>
        </div>
        <div class="container">
            <div class="main">
                <h1 id="implement-b-i-to-n-duy-t-c-y-nh-ph-n-v-i-rust">Implement b√†i to√°n duy·ªát c√¢y nh·ªã ph√¢n v·ªõi Rust</h1>
<p>C√°c b√†i gi·ªõi thi·ªáu v·ªÅ Rust <sup><a href="#tham-kh-o">[1]</a></sup> th√¨ nhi·ªÅu qu√° r·ªìi <sup><a href="#tham-kh-o">[2]</a></sup> nh∆∞ng ch∆∞a th·∫•y b√†i n√†o n√≥i v·ªÅ vi·ªác s·ª≠ d·ª•ng Rust h·∫øt, n√™n h√¥m nay m√¨nh s·∫Ω b·∫Øt ƒë·∫ßu vi·∫øt m·ªôt v√†i b√†i √°p d·ª•ng Rust ƒë·ªÉ implement m·ªôt s·ªë thu·∫≠t to√°n c∆° b·∫£n, m·ªü ƒë·∫ßu s·∫Ω l√†: <strong>Thu·∫≠t to√°n duy·ªát c√¢y nh·ªã ph√¢n.</strong></p>
<p><img src="img/ok_meme.png" alt=""></p>
<p>Sao? Kh√¥ng th√≠ch thu·∫≠t to√°n √†? T·ª´ t·ª´, ƒë·ª´ng b·ªè ƒëi v·ªôi, m·∫∑c d√π ƒë·ªÅ b√†i c√≥ v·∫ª kh√¥ khan nh∆∞ng qua b√†i vi·∫øt n√†y c√°c b·∫°n s·∫Ω h·ªçc ƒë∆∞·ª£c kha kh√° ki·∫øn th·ª©c quan tr·ªçng trong Rust:</p>
<ul>
<li>L√†m vi·ªác v·ªõi <code>struct</code></li>
<li>S·ª≠ d·ª•ng ki·ªÉu <code>Option&lt;&gt;</code></li>
<li>S·ª≠ d·ª•ng ki·ªÉu <code>Box&lt;&gt;</code> </li>
<li>Khai b√°o bi·∫øn trong Heap v√† Stack</li>
<li>S·ª≠ d·ª•ng c√°c <code>attribute</code> ƒë·ªÉ t√πy bi·∫øn Rust compiler</li>
<li>S·ª≠ d·ª•ng <code>pattern matching</code></li>
<li>L√†m vi·ªác v·ªõi <code>macro</code></li>
<li>Khai b√°o method d√πng <code>impl</code></li>
<li>Thao t√°c c∆° b·∫£n v·ªõi <code>String</code></li>
</ul>
<p>V√† quan tr·ªçng nh·∫•t l√† c√°ch s·ª≠ d·ª•ng c√°c th√¥ng b√°o l·ªói c·ªßa Rust compiler ƒë·ªÉ t√¨m manh m·ªëi gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ m·ªôt c√°ch hi·ªáu qu·∫£.</p>
<h2 id="ki-n-th-c-c-b-n">Ki·∫øn th·ª©c c∆° b·∫£n</h2>
<p>N√≥i s∆° qua m·ªôt ch√∫t ki·∫øn th·ª©c c∆° b·∫£n, <strong>c√¢y nh·ªã ph√¢n</strong> (binary tree) l√† m·ªôt lo·∫°i c·∫•u tr√∫c d·ªØ li·ªáu d·∫°ng <strong>c√¢y</strong> (tree), m·ªói m·ªôt node c√≥ t·ª´ m·ªôt ƒë·∫øn hai node con.</p>
<p>C√°c t√™n g·ªçi quy ∆∞·ªõc trong m·ªôt node c·ªßa c√¢y nh·ªã ph√¢n:</p>
<ul>
<li><strong>Root:</strong> l√† node hi·ªán t·∫°i ƒëang x√©t.</li>
<li><strong>Left:</strong> l√† node con b√™n tr√°i c·ªßa node ƒëang x√©t.</li>
<li><strong>Right:</strong> l√† node con b√™n ph·∫£i c·ªßa node ƒëang x√©t.</li>
</ul>
<p><img src="img/binary-tree-example.png" alt=""></p>
<p><strong>Duy·ªát c√¢y nh·ªã ph√¢n</strong> (binary tree traversal) l√† m·ªôt trong c√°c thu·∫≠t to√°n c∆° b·∫£n khi l√†m vi·ªác v·ªõi ki·ªÉu d·ªØ li·ªáu n√†y. C√≥ 2 c√°ch ƒë·ªÉ duy·ªát m·ªôt c√¢y nh·ªã ph√¢n ƒë√≥ l√† <strong>duy·ªát s√¢u</strong> (depth first traversal) v√† <strong>duy·ªát r·ªông</strong> (breadth first traversal).</p>
<p>ƒê·ªëi v·ªõi c√°ch <strong>duy·ªát s√¢u</strong>, ch√∫ng ta c√≥ 3 ph∆∞∆°ng ph√°p kh√°c nhau, ph√¢n lo·∫°i d·ª±a theo th·ª© t·ª± thƒÉm (visit) c√°c node con c·ªßa c√¢y:</p>
<ul>
<li><p><strong>In-order:</strong> Duy·ªát theo th·ª© t·ª± <strong>Left -&gt; Root -&gt; Right</strong>. V√≠ d·ª• c√¢y ·ªü h√¨nh tr√™n, th·ª© t·ª± duy·ªát s·∫Ω l√†: <code>2, 7, 5, 6, 11, 1, 8, 4, 9</code>.</p>
</li>
<li><p><strong>Pre-order:</strong> Duy·ªát theo th·ª© t·ª± <strong>Root -&gt; Left -&gt; Right</strong>. V√≠ d·ª• ·ªü c√¢y tr√™n, th·ª© t·ª± duy·ªát l√†: <code>1, 7, 2, 6, 5, 11, 8, 9, 4</code>.</p>
</li>
<li><p><strong>Post-order:</strong> Duy·ªát theo th·ª© t·ª± <strong>Left -&gt; Right -&gt; Root</strong>. V√≠ d·ª• ·ªü c√¢y tr√™n, th·ª© t·ª± duy·ªát l√†: <code>2, 5, 11, 6, 7, 4, 9, 8, 1</code>.</p>
</li>
</ul>
<p><strong>Duy·ªát r·ªông</strong> th√¨ ch√∫ng ta s·∫Ω ƒëi t·ª´ng level c·ªßa c√¢y, v√† duy·ªát h·∫øt t·∫•t c·∫£ c√°c node ·ªü t·ª´ng level. V√≠ d·ª• c√¢y tr√™n th·ª© t·ª± duy·ªát s·∫Ω l√†: <code>1, 7, 8, 2, 6, 9, 5, 11, 4</code>.</p>
<h2 id="implementation">Implementation</h2>
<p>Ch√∫ng ta s·∫Ω implement ki·ªÉu d·ªØ li·ªáu binary tree trong Rust, sau ƒë√≥ s·∫Ω implement thu·∫≠t to√°n duy·ªát c√¢y cho ki·ªÉu d·ªØ li·ªáu n√†y.</p>
<p><img src="img/stepbystep.jpg" alt=""></p>
<p>Trong qu√° tr√¨nh implement, m√¨nh s·∫Ω ch·ªâ ra m·ªôt s·ªë l·ªói m√† ng∆∞·ªùi m·ªõi h·ªçc Rust th∆∞·ªùng g·∫∑p ph·∫£i, v√† Rust compiler s·∫Ω gi√∫p ch√∫ng ta nh·∫≠n ra v√† gi·∫£i quy·∫øt c√°c l·ªói ƒë√≥ r·∫•t hi·ªáu qu·∫£.</p>
<p>C√≤n b√¢y gi·ªù th√¨ ch√∫ng ta b·∫Øt ƒë·∫ßu th√¥i.</p>
<h3 id="kh-i-t-o-d-n">Kh·ªüi t·∫°o d·ª± √°n</h3>
<p>V√¨ ƒë√¢y l√† m·ªôt ch∆∞∆°ng tr√¨nh nh·ªè, ch√∫ng ta kh√¥ng nh·∫•t thi·∫øt ph·∫£i s·ª≠ d·ª•ng <code>cargo</code> ƒë·ªÉ t·∫°o project m·ªõi, m√† c√≥ th·ªÉ t·∫°o tr·ª±c ti·∫øp file <code>*.rs</code> v√† bi√™n d·ªãch n√≥ b·∫±ng <code>rustc</code>.</p>
<p>·ªû ƒë√¢y m√¨nh s·∫Ω ƒë·∫∑t t√™n source file c·ªßa ch√∫ng ta l√† <code>binary_tree.rs</code> n·∫±m trong th∆∞ m·ª•c <code>~/code/playground/</code>.</p>
<pre><code>$ mkdir -p ~/code/playground
$ cd ~/code/playground
$ touch binary_tree.rs
</code></pre><p>Ch√∫ng ta c√≥ th·ªÉ ch·∫°y th·ª≠ m·ªôt ch∆∞∆°ng tr√¨nh nh·ªè, v√≠ d·ª• g√µ v√†o file <code>binary_tree.rs</code> n·ªôi dung sau:</p>
<pre><code>fn main() {
    println!(&quot;Hello World!&quot;);
}
</code></pre><p>Bi√™n d·ªãch v√† ch·∫°y ƒëo·∫°n code tr√™n b·∫±ng l·ªánh:</p>
<pre><code>$ rustc binary_tree.rs -o binary_tree
$ ./binary_tree
</code></pre><p>B·∫°n c√≥ th·ªÉ vi·∫øt 2 l·ªánh n√†y v√†o m·ªôt <code>makefile</code> v√† ch·∫°y b·∫±ng l·ªánh <code>make</code>. Ho·∫∑c n·∫øu x√†i vim, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng plugin <a href="https://github.com/huytd/vim-quickrun">vim-quickrun</a> (do m√¨nh vi·∫øt, shameless PR :v) ƒë·ªÉ ch·∫°y nhanh b·∫±ng t·ªï h·ª£p ph√≠m <code>&lt;Leader&gt;e</code>.</p>
<p>Xong r·ªìi, gi·ªù z√¥ code thi·ªát n√®.</p>
<h3 id="khai-b-o-c-u-tr-c-d-li-u-c-a-m-t-node">Khai b√°o c·∫•u tr√∫c d·ªØ li·ªáu c·ªßa m·ªôt node</h3>
<p><img src="img/datastruct.png" alt=""></p>
<p>Th√¥ng th∆∞·ªùng khi implement ki·ªÉu tree, ch√∫ng ta s·∫Ω b·∫Øt ƒë·∫ßu implement t·ª´ m·ªôt node c·ªßa tree ƒë√≥.</p>
<p>Theo nh∆∞ ƒë·ªãnh nghƒ©a ·ªü tr√™n, m·ªôt node m√† ch√∫ng ta implement s·∫Ω c√≥ c√°c tr∆∞·ªùng (fields) sau:</p>
<ul>
<li>Value: Gi√° tr·ªã c·ªßa node n√†y, ·ªü ƒë√¢y ch√∫ng ta d√πng ki·ªÉu <code>i32</code> (s·ªë nguy√™n)</li>
<li>Left: Reference t·ªõi node b√™n tr√°i, gi√° tr·ªã n√†y c√≥ th·ªÉ r·ªóng (optional)</li>
<li>Right: Reference t·ªõi node b√™n ph·∫£i, gi√° tr·ªã n√†y c≈©ng c√≥ th·ªÉ r·ªóng (optional)</li>
</ul>
<p>V·∫≠y ch√∫ng ta s·∫Ω khai b√°o m·ªôt struct m·ªõi, g·ªìm c√≥ 3 fields nh∆∞ tr√™n:</p>
<pre><code>struct Node {
    value: i32,
    left: Option&lt;Node&gt;,
    right: Option&lt;Node&gt;
}
</code></pre><p>·ªû ƒë√¢y <code>i32</code> l√† ki·ªÉu d·ªØ li·ªáu s·ªë nguy√™n, t∆∞∆°ng t·ª± nh∆∞ <code>int</code> ·ªü m·∫•y ng√¥n ng·ªØ kh√°c v·∫≠y. <code>Option</code> t·ª©c l√† ki·ªÉu optional, nghƒ©a l√† n√≥ c√≥ th·ªÉ c√≥ gi√° tr·ªã tham chi·∫øu t·ªõi ƒë√¢u ƒë√≥, ho·∫∑c c√≥ th·ªÉ kh√¥ng c√≥. Compile th·ª≠ xem n√†o:</p>
<pre><code>$ rustc binary_tree.rs -o binary_tree

error[E0072]: recursive type `Node` has infinite size
 --&gt; walkthrough_binary_tree.rs:1:1
  |
1 | struct Node {
  | ^ recursive type has infinite size
  |
  = help: insert indirection (e.g., a `Box`, `Rc`, or `&amp;`) at some point to make `Node` representable

error: aborting due to previous error
</code></pre><p>√â, l·ªói r·ªìi. L·ªói ngay t·ª´ shot ƒë·∫ßu ti√™n lu√¥n :)) ƒë·ªÉ xem l·ªói g√¨ n√†o.</p>
<h4 id="v-n-recursive-type-trong-rust">V·∫•n ƒë·ªÅ recursive type trong Rust</h4>
<p><img src="img/recursion.jpg" alt=""></p>
<p>N·ªôi dung th√¥ng b√°o l·ªói n√≥ ghi l√†: <code>recursive type Node has infinite size</code>, t·ª©c l√†: <code>Node</code> l√† ki·ªÉu d·ªØ li·ªáu ƒë·ªá quy (v√¨ ch√∫ng ta tham chi·∫øu t·ªõi <code>Node</code> b√™n trong ch√≠nh n√≥), n√™n Rust kh√¥ng x√°c ƒë·ªãnh ƒë∆∞·ª£c k√≠ch th∆∞·ªõc c·ªßa n√≥ -- qu√° b·ª±, v√¥ h·∫°n. T·∫°i sao v·∫≠y? OK, d·ª´ng l·∫°i ƒë·ªÉ n√≥i v·ªÅ v·∫•n ƒë·ªÅ n√†y m·ªôt ch√∫t nh√©.</p>
<p>C≈©ng gi·ªëng nh∆∞ C/C++, k√≠ch th∆∞·ªõc c·ªßa m·ªôt <code>struct</code> s·∫Ω ƒë∆∞·ª£c x√°c ƒë·ªãnh b·∫±ng t·ªïng s·ªë k√≠ch th∆∞·ªõc c√°c field b√™n trong n√≥. L·∫•y v√≠ d·ª• ƒë∆°n gi·∫£n, n·∫øu ta c√≥ m·ªôt <code>struct</code> nh∆∞ sau:</p>
<pre><code>struct Point {
    x: i32,
    y: u8
}
</code></pre><p>Th√¨ k√≠ch th∆∞·ªõc c·ªßa <code>Point</code> s·∫Ω b·∫±ng k√≠ch th∆∞·ªõc c·ªßa <code>x</code> (ki·ªÉu <code>i32</code>, c√≥ <code>4 bytes</code>) c·ªông v·ªõi k√≠ch th∆∞·ªõc c·ªßa bi·∫øn <code>y</code> (ki·ªÉu <code>u8</code> c√≥ <code>1 byte</code>), l√† <code>5 bytes</code> c·∫£ th·∫£y.</p>
<p>Quay tr·ªü l·∫°i v·ªõi <code>Node</code> struct c·ªßa ch√∫ng ta, ki·ªÉu <code>i32</code> c√≥ <code>4 bytes</code>, ki·ªÉu <code>Option</code> c√≥ <code>1 byte</code>, k√≠ch th∆∞·ªõc c·ªßa <code>Node</code> s·∫Ω ƒë∆∞·ª£c t√≠nh b·∫±ng c√¥ng th·ª©c:</p>
<pre class="math">$
\begin{align}
\text{Node} &= \text{i32} + 2 \times \text{Option} + 2 \times \text{Node} \\
            &= 4 + 2 \times 1 + 2 \times \text{Node} \\
            &= 6 + 2 \times \text{Node} \\ 
            &= 6 + 2 \times ( 6 + 2 \times \text{Node}) \\
            &= 6 + 2 \times ( 6 + 2 \times ( 6 + 2 \times \text{Node})) \\
            &= 6 + 2 \times ( 6 + 2 \times ( 6 + 2 \times (6 + 2 \times \text{Node}))) \\
            &= \cdots
\end{align}
$</pre>

<p>:))</p>
<p>K·∫øt qu·∫£ l√† t√≠nh m√£i kh√¥ng ra n·ªïi :)) v√¨ c·ª© ƒë·ªá quy m√£i ·ªü kh√∫c l·∫•y size c·ªßa <code>Node</code>.</p>
<h4 id="boxed-value-v-heap">Boxed value v√† heap</h4>
<p>R·ªìi, v·∫≠y c√°ch gi·∫£i quy·∫øt l√† g√¨ n√†o? N·∫øu xem kƒ© trong th√¥ng b√°o l·ªói, b·∫°n s·∫Ω th·∫•y 1 d√≤ng:</p>
<pre><code>  ...
  = help: insert indirection (e.g., a `Box`, `Rc`, or `&amp;`) at some point to make `Node` representable
  ...
</code></pre><p>Xem n√†o, n√≥ b·∫£o n·∫øu th√™m <code>Box</code> ho·∫∑c <code>Rc</code> ho·∫∑c <code>&amp;</code> c√°c ki·ªÉu v√†o nh·ªØng ch·ªó tham chi·∫øu t·ªõi <code>Node</code> th√¨ s·∫Ω gi·∫£i quy·∫øt ƒë∆∞·ª£c. V·∫≠y th·ª≠ xem:</p>
<pre><code>struct Node {
    value: i32,
    left: Option&lt;Box&lt;Node&gt;&gt;,
    right: Option&lt;Box&lt;Node&gt;&gt;
}
</code></pre><p>Compile l·∫°i th√¨ s·∫Ω th·∫•y l·ªói ƒë√≥ ƒë√£ h·∫øt, ngon l√†nh! C√≥ m·ªôt c√°i warning xu·∫•t hi·ªán, nh∆∞ng b√¢y gi·ªù ch√∫ng ta ch∆∞a c·∫ßn n√≥i t·ªõi n√≥, ƒë·ªÉ n√≥i ti·∫øp v·ªÅ v·ª• <code>Box</code> c√°i ƒë√£.</p>
<p><img src="img/boxes.jpg" alt=""></p>
<p>T·∫°i sao d√πng <code>Box&lt;&gt;</code> l·∫°i gi·∫£i quy·∫øt ƒë∆∞·ª£c v·∫•n ƒë·ªÅ recursive struct? ƒê·∫ßu ti√™n c·∫ßn hi·ªÉu <code>Box&lt;&gt;</code> l√† g√¨.</p>
<p>Trong Rust, m·∫∑c ƒë·ªãnh m·ªçi gi√° tr·ªã ƒë·ªÅu ƒë∆∞·ª£c khai b√°o trong <strong>stack</strong> <sup><a href="#tham-kh-o">[3]</a></sup>, ch√∫ng ta s·ª≠ d·ª•ng <code>Box&lt;T&gt;</code> khi c·∫ßn khai b√°o m·ªôt bi·∫øn ki·ªÉu <code>T</code> trong <strong>heap</strong>. M·ªôt <strong>box</strong> th·ª±c ch·∫•t l√† m·ªôt smart pointer tr·ªè t·ªõi m·ªôt gi√° tr·ªã ƒë√£ ƒë∆∞·ª£c t·∫°o ra trong <strong>heap</strong>.</p>
<p>Trong tr∆∞·ªùng h·ª£p n√†y, ch√∫ng ta ƒë·∫∑t <code>Node</code> v√†o trong <code>Box&lt;&gt;</code> ƒë·ªÉ khai b√°o d·∫°ng <code>Box&lt;Node&gt;</code>, th√¨ th·ª±c ch·∫•t ch√∫ng ta ƒëang khai b√°o m·ªôt <strong>pointer tr·ªè t·ªõi m·ªôt v√πng nh·ªõ ki·ªÉu <code>Node</code> trong heap</strong>, v·∫≠y n√™n b√™n trong <code>Node</code> struct c·ªßa ch√∫ng ta l√∫c n√†y, k√≠ch th∆∞·ªõc c·ªßa <code>left</code> v√† <code>right</code> th·ª±c ch·∫•t l√† <strong>k√≠ch th∆∞·ªõc c·ªßa pointer <code>Box&lt;Node&gt;</code></strong>, v√† pointer n√†y c√≥ ki·ªÉu <code>Option</code>.</p>
<p>Tr√™n StackOverflow c≈©ng c√≥ m·ªôt c√¢u h·ªèi ƒë∆∞·ª£c tr·∫£ l·ªùi kh√° kƒ© v·ªÅ v·∫•n ƒë·ªÅ <code>Box</code> trong recursive struct, c√°c b·∫°n c√≥ th·ªÉ tham kh·∫£o <a href="http://stackoverflow.com/a/25296420/1567340">t·∫°i ƒë√¢y</a>.</p>
<h4 id="dead-code-warning-khi-compile">Dead code warning khi compile</h4>
<p>Okay, b√¢y gi·ªù quay v·ªÅ l·∫°i v·ªõi c√°i warning m√† <code>rustc</code> ƒë∆∞a ra l√∫c n√£y nh√©. N·ªôi dung warning nh∆∞ sau:</p>
<pre><code>warning: struct is never used: `Node`, #[warn(dead_code)] on by default
 --&gt; walkthrough_binary_tree.rs:1:1
  |
1 | struct Node {
  | ^
</code></pre><p><code>rustc</code> n√≥i cho ch√∫ng ta bi·∫øt l√† c√°i <code>Node</code> struct m√† ch√∫ng ta t·∫°o ra ch∆∞a bao gi·ªù ƒë∆∞·ª£c s·ª≠ d·ª•ng c·∫£. V√† th√¥ng b√°o n√†y ƒë∆∞·ª£c ƒë∆∞a ra v√¨ attribute <code>#[warn(dead_code)]</code> ƒë∆∞·ª£c b·∫≠t s·∫µn khi bi√™n d·ªãch.</p>
<p>ƒêi·ªÅu n√†y r·∫•t c√≥ √≠ch ƒë·ªÉ vi·∫øt code ƒë·∫πp, code chu·∫©n, c√≥ th·ªÉ h·∫°n ch·∫ø ƒë∆∞·ª£c l∆∞·ª£ng m·ª° th·ª´a kh√¥ng c·∫ßn thi·∫øt... √† nh·∫ßm, code th·ª´a.</p>
<p>Tuy nhi√™n v√¨ ch√∫ng ta ƒëang h·ªçc, cho n√™n c√≥ th·ªÉ t·∫°m t·∫Øt th√¥ng b√°o n√†y ƒëi b·∫±ng c√°ch th√™m attribute <code>#[allow(dead_code)]</code> ·ªü tr∆∞·ªõc ph·∫ßn khai b√°o struct ƒë·ªÉ b√°o cho compiler bi·∫øt r·∫±ng <code>dead_code</code> l√† ng∆∞·ªùi quen bi·∫øt, v√† vi·ªác cho anh ·∫•y ƒëi qua kh·ªèi kh√¢u ki·ªÉm duy·ªát l√† ƒë√∫ng quy tr√¨nh, kh√¥ng c·∫ßn ph·∫£i lo g√¨ c·∫£:</p>
<pre><code>#[allow(dead_code)]
struct Node {
    value: i32,
    left: Option&lt;Box&lt;Node&gt;&gt;,
    right: Option&lt;Box&lt;Node&gt;&gt;
}
</code></pre><p>Gi·ªù compile l·∫°i s·∫Ω ko c√≤n l·ªói n√†o x·∫£y ra n·ªØa.</p>
<h3 id="t-o-binary-tree-t-node">T·∫°o binary tree t·ª´ node</h3>
<p>V·∫≠y l√† ch√∫ng ta ƒë√£ khai b√°o th√†nh c√¥ng th√†nh ph·∫ßn c∆° b·∫£n nh·∫•t c·ªßa m·ªôt binary tree, gi·ªù ch√∫ng ta th·ª≠ d√πng ki·ªÉu <code>Node</code> n√†y ƒë·ªÉ t·∫°o ra m·ªôt binary tree xem sao nh√©.</p>
<p>L·∫•y v√≠ d·ª• v·ªõi c√¢y sau:</p>
<p><img src="img/binary-tree-try.png" alt=""></p>
<p>Ch√∫ng ta s·∫Ω ƒëi t·ª´ng b∆∞·ªõc, t·∫°o t·ª´ng node m·ªôt. ƒê·∫ßu ti√™n l√† root node c·ªßa c√¢y tr√™n, khai b√°o m·ªôt bi·∫øn <code>tree</code>, ki·ªÉu <code>Node</code>, c√≥ 2 nh√°nh left v√† right ƒë·ªÅu l√† <code>None</code>.</p>
<pre><code>#[allow(unused_variables)]
fn main() {
    let tree = Node {
        value: 1,
        left: None,
        right: None
    };
}
</code></pre><p>ƒê√¢y l√† tr·∫°ng th√°i c√¢y c·ªßa ch√∫ng ta l√∫c n√†y:</p>
<p><img src="img/binary-tree-try-01.png" alt=""></p>
<p>Ch√∫ng ta c≈©ng ch√®n th√™m v√†o attribute <code>#[allow(unused_variables)]</code> ƒë·ªÉ rust compiler kh√¥ng warning v√¨ ch√∫ng ta ch∆∞a c·∫ßn s·ª≠ d·ª•ng bi·∫øn <code>tree</code> n√†y.</p>
<h4 id="gi-tr-c-a-m-t-bi-n-option-v-box">Gi√° tr·ªã c·ªßa m·ªôt bi·∫øn Option v√† Box</h4>
<p>V·∫≠y l√† ch√∫ng ta ƒë√£ t·∫°o ƒë∆∞·ª£c m·ªôt node ƒë·∫ßu ti√™n c·ªßa c√¢y, c√≥ gi√° tr·ªã l√† <code>1</code> v√† 2 node con ch∆∞a c√≥ g√¨ c·∫£. Gi·ªù m√¨nh s·∫Ω gi·∫£i th√≠ch t·∫°i sao l·∫°i xu·∫•t hi·ªán gi√° tr·ªã <code>None</code>, v√† ph·∫£i l√†m g√¨ n·∫øu mu·ªën g√°n <code>left</code> ho·∫∑c <code>right</code> th√†nh m·ªôt node kh√°c.</p>
<p>M·ªôt bi·∫øn ki·ªÉu <a href="https://doc.rust-lang.org/std/option/index.html">Option</a> c√≥ th·ªÉ mang gi√° tr·ªã <code>Some(T)</code> (tr·∫£ v·ªÅ gi√° tr·ªã c·ªßa <code>T</code>) ho·∫∑c mang gi√° tr·ªã <code>None</code> (kh√¥ng tr·∫£ v·ªÅ g√¨ c·∫£). </p>
<p>V·∫≠y ƒë·ªÉ g√°n m·ªôt gi√° tr·ªã kh√¥ng <code>None</code> v√†o cho m·ªôt bi·∫øn <code>Option</code>, ch√∫ng ta d√πng l·ªánh <code>Some(...)</code>, v√≠ d·ª•:</p>
<pre><code>let optional: Option&lt;T&gt; = Some(T);
</code></pre><p>Ti·∫øp, ƒë·ªëi v·ªõi ki·ªÉu <code>Box&lt;T&gt;</code>, ch√∫ng ta c√≥ method <code>Box::new(...)</code> ƒë·ªÉ kh·ªüi t·∫°o gi√° tr·ªã cho n√≥, v√≠ d·ª•:</p>
<pre><code>let value: Box&lt;i32&gt; = Box::new(5);
</code></pre><p>K·∫øt h·ª£p 2 c√∫ ph√°p tr√™n l·∫°i, ƒë·ªëi v·ªõi ki·ªÉu <code>Option&lt;Box&lt;Node&gt;&gt;</code> c·ªßa c√°c node <code>left</code> v√† <code>right</code>, ch√∫ng ta s·∫Ω c√≥ c√°ch khai b√°o nh∆∞ sau:</p>
<pre><code>...
left: Some(Box::new(Node { ... })),
...
</code></pre><p>Gi·ªù th·ª≠ ch√®n ti·∫øp 2 node s·ªë <code>7</code> v√† <code>8</code> v√†o c√¢y tr√™n n√†o:</p>
<pre><code>    ...
    let tree = Node {
        value: 1,
        left: Some(Box::new(Node {
            value: 7,
            left: None,
            right: None
        })),
        right: Some(Box::new(Node {
            value: 8,
            left: None,
            right: None
        }))
    };
    ...
</code></pre><p>Tr·∫°ng th√°i c√¢y l√∫c n√†y s·∫Ω nh∆∞ th·∫ø n√†y:</p>
<p><img src="img/binary-tree-try-02.png" alt=""></p>
<h4 id="s-d-ng-macro-r-t-g-n-c-ph-p">S·ª≠ d·ª•ng macro ƒë·ªÉ r√∫t g·ªçn c√∫ ph√°p</h4>
<p>H·∫≥n l√† b·∫°n c≈©ng c·∫£m th·∫•y kh√≥ ch·ªãu v·ªõi c√¢u l·ªánh d√†i d√≤ng <code>Some(Box::new(Node { ... }))</code> c·ª© l·∫∑p ƒëi l·∫∑p l·∫°i li√™n t·ª•c ·ªü trong code. </p>
<p>Rust cho ph√©p ch√∫ng ta t·∫°o ra c√°c <strong>macro</strong> ƒë·ªÉ r√∫t g·ªçn c√°c thao t√°c d√†i d√≤ng, l·∫∑p ƒëi l·∫∑p l·∫°i. B·∫°n c√≥ th·ªÉ coi <strong>macro</strong> t∆∞∆°ng t·ª± nh∆∞ <code>#define</code> c·ªßa C/C++ nh∆∞ng l·ª£i h·∫°i h∆°n r·∫•t nhi·ªÅu. <sup><a href="#tham-kh-o">[4]</a></sup></p>
<p>Th·ª±c ra ngay t·ª´ ƒë·∫ßu ch√∫ng ta ƒë√£ d√πng <strong>macro</strong> r·ªìi, ƒë√≥ ch√≠nh l√† l·ªánh <code>println!</code>, l·ªánh n√†y c≈©ng l√† m·ªôt <strong>macro</strong>, b·∫°n c√≥ th·ªÉ tham kh·∫£o <a href="https://github.com/rust-lang/rust/blob/47965f51e6d91ae33bf2b0da0f5510f03766feac/src/libstd/macros.rs#L119-L125">source c·ªßa Rust</a> ƒë·ªÉ xem n√≥ ƒë∆∞·ª£c khai b√°o th·∫ø n√†o.</p>
<p>S·∫Ω r·∫•t d√†i d√≤ng n·∫øu n√≥i chi ti·∫øt v·ªÅ <strong>macro</strong> ·ªü ƒë√¢y, n√™n b·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m t√†i li·ªáu c·ªßa Rust nh√©. </p>
<p>Ch√∫ng ta s·∫Ω t·∫°o ra m·ªôt <strong>macro</strong> ƒë·ªÉ r√∫t g·ªçn thao t√°c t·∫°o optional Node ·ªü tr√™n:</p>
<pre><code>macro_rules! node {
    ( $($props:ident : $value:expr),* ) =&gt; { 
        Some(Box::new(Node {
            $($props: $value),*
        })) 
    }
}
</code></pre><p>T·ª´ gi·ªù ch√∫ng ta c√≥ th·ªÉ t·∫°o ra c√°c <code>Node</code> v·ªõi c√∫ ph√°p m·ªõi l√†:</p>
<pre><code>...
left: node!(
        value: 5,
        left: None,
        right: None
      );
...
</code></pre><p>G·ªçn v√† r√µ r√†ng h∆°n r·∫•t nhi·ªÅu. Th·ª≠ √°p d·ª•ng <strong>macro</strong> <code>node!</code> v·ª´a t·∫°o ƒë·ªÉ ho√†n th√†nh n·ªët c√¢y nh·ªã ph√¢n c·ªßa ch√∫ng ta n√†o:</p>
<pre><code>    ...
    let tree = Node {
        value: 1,
        left: node!(
            value: 7,
            left: node!(
                value: 2,
                left: None,
                right: None
            ),
            right: node!(
                value: 6,
                left: None,
                right: None
            )
        ),
        right: node!(
            value: 8,
            left: None,
            right: None
        )
    };
    ...
</code></pre><p>Gi·ªù ch√∫ng ta ƒë√£ c√≥ m·ªôt c√¢y nh·ªã ph√¢n ho√†n ch·ªânh ƒë√∫ng v·ªõi y√™u c·∫ßu ban ƒë·∫ßu.</p>
<p><img src="img/binary-tree-try-03.png" alt=""></p>
<h3 id="duy-t-c-y">Duy·ªát c√¢y</h3>
<p>Gi·ªù ch√∫ng ta s·∫Ω implement thu·∫≠t to√°n duy·ªát c√¢y, v√¨ b√†i vi·∫øt c≈©ng kh√° d√†i r·ªìi n√™n m√¨nh s·∫Ω ch·ªâ tr√¨nh b√†y m·ªôt lo·∫°i c·ªßa thu·∫≠t to√°n duy·ªát <strong>DFS</strong>, c·ª• th·ªÉ l√† <strong>In-order</strong>.</p>
<p>Nh·∫Øc l·∫°i l√Ω thuy·∫øt: ch√∫ng ta s·∫Ω duy·ªát theo th·ª© t·ª± <strong>Left -&gt; Root -&gt; Right</strong>.</p>
<p>√ù t∆∞·ªüng ƒë·ªÉ implement thu·∫≠t to√°n n√†y l√† t·∫°o ra m·ªôt h√†m tr·∫£ v·ªÅ m·ªôt chu·ªói, chu·ªói n√†y l∆∞u l·∫°i qu√° tr√¨nh duy·ªát t·ª´ Node hi·ªán t·∫°i ƒë·∫øn c√°c node con b√™n trong n√≥ theo th·ª© t·ª± c·ªßa <strong>In-order</strong>.</p>
<h4 id="t-o-methods-v-i-impl">T·∫°o methods v·ªõi impl</h4>
<p>Nh∆∞ v·∫≠y l√† ch√∫ng ta c·∫ßn t·∫°o ra m·ªôt method cho ki·ªÉu d·ªØ li·ªáu <code>Node</code>, trong Rust ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng t·ª´ kh√≥a <code>impl</code> ƒë·ªÉ ƒë·ªãnh nghƒ©a ra c√°c method cho m·ªôt ki·ªÉu. <sup><a href="#tham-kh-o">[5]</a></sup></p>
<pre><code>impl Node {
    fn traversal(&amp;self) -&gt; String {
        let mut output = String::new();
        // Implement here
        return output;
    }
}
</code></pre><p>B·∫±ng c√°ch s·ª≠ d·ª•ng <code>impl</code>, ch√∫ng ta ƒë√£ khai b√°o m·ªôt h√†m <code>traversal()</code> cho ki·ªÉu <code>Node</code>, h√†m n√†y kh√¥ng nh·∫≠n tham s·ªë n√†o c·∫£, ƒë·ªëi v·ªëi tham s·ªë <code>&amp;self</code> trong l·ªánh khai b√°o, ch√∫ng ta c√≥ th·ªÉ xem n√≥ nh∆∞ l√† t·ª´ kh√≥a <code>this</code> trong c√°c ng√¥n ng·ªØ nh∆∞ JavaScript ƒë·ªÉ x√°c ƒë·ªãnh context c·ªßa h√†m hi·ªán t·∫°i. B·∫°n c√≥ th·ªÉ ƒë·ªçc th√™m t√†i li·ªáu v·ªÅ v·∫•n ƒë·ªÅ n√†y ·ªü ph·∫ßn cu·ªëi.</p>
<h4 id="s-d-ng-matching-ki-m-tra-node-r-ng">S·ª≠ d·ª•ng matching ƒë·ªÉ ki·ªÉm tra Node r·ªóng</h4>
<p>Gi·∫£i ph√°p c·ªßa ch√∫ng ta kh√° l√† ƒë∆°n gi·∫£n, duy·ªát t·ª´ng node v√† tr·∫£ v·ªÅ gi√° tr·ªã c·ªßa node ƒë√≥ n·∫øu c√≥, c·ªông d·ªìn l·∫°i v√† tr·∫£ v·ªÅ 1 string ƒë·ªÉ in ra.</p>
<p>V·∫≠y th√¨ vi·ªác ti·∫øp theo ph·∫£i l√†m ƒë√≥ l√† ki·ªÉm tra xem c√°c node con c√≥ t·ªìn t·∫°i hay kh√¥ng. Nh·ªõ l·∫°i ·ªü tr√™n c√≥ ƒë·ªÅ c·∫≠p, m·ªôt bi·∫øn ki·ªÉu <code>Option</code> lu√¥n tr·∫£ v·ªÅ m·ªôt trong 2 gi√° tr·ªã <code>Some(...)</code> ho·∫∑c <code>None</code>, v·∫≠y ƒë·ªÉ ki·ªÉm tra ta c√≥ th·ªÉ d√πng <code>match</code>, c√∫ ph√°p c·ªßa <code>match</code> c≈©ng na n√° gi·ªëng nh∆∞ <code>switch</code> ·ªü c√°c ng√¥n ng·ªØ kh√°c n√™n ch·∫Øc kh√¥ng c·∫ßn gi·∫£i th√≠ch nhi·ªÅu <sup><a href="#tham-kh-o">[6]</a></sup>:</p>
<pre><code>match self.left {
    Some(ref node) =&gt; { },
    None =&gt; { }
}
</code></pre><p>Ch·∫Øc kh√¥ng c·∫ßn gi·∫£i th√≠ch c√°c b·∫°n c≈©ng s·∫Ω hi·ªÉu l√† vi·ªác ti·∫øp theo ch√∫ng ta c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë∆∞·ª£c bi·∫øn <code>node</code> ·ªü trong scope c·ªßa tr∆∞·ªùng h·ª£p <code>Some(...)</code> ƒë·ªÉ t∆∞∆°ng t√°c v·ªõi node hi·ªán t·∫°i r·ªìi ƒë√∫ng kh√¥ng n√†o? C√≤n tr∆∞·ªùng h·ª£p <code>None</code>, m·∫∑c d√π kh√¥ng l√†m g√¨ c·∫£ nh∆∞ng ch√∫ng ta v·∫´n ph·∫£i handle n√≥, n·∫øu kh√¥ng s·∫Ω g·∫∑p l·ªói khi compile nh∆∞ th·∫ø n√†y: </p>
<pre><code>error[E0004]: non-exhaustive patterns: `None` not covered
  --&gt; binary_tree.rs:21:15
   |
21 |         match self.left {
   |               ^^^^^^^^^ pattern `None` not covered

error: aborting due to previous error
</code></pre><p>Th√¥ng b√°o l·ªói n√≥i r·∫±ng: Tr∆∞·ªùng h·ª£p <code>None</code> ch∆∞a ƒë∆∞·ª£c cover. ƒê√¢y c≈©ng l√† m·ªôt v√≠ d·ª• cho th·∫•y s·ª± kh·∫Øt khe c·ªßa Rust ƒë·ªÉ ƒë·∫£m b·∫£o kh√¥ng l·ªçt b·∫•t k√¨ tr∆∞·ªùng h·ª£p kh·∫£ nghi n√†o c√≥ kh·∫£ nƒÉng tr·ªü th√†nh bug trong l√∫c runtime c·∫£.</p>
<p>ƒê·ªëi v·ªõi gi√° tr·ªã c·ªßa m·ªôt node, l√† ki·ªÉu <code>i32</code>, ch√∫ng ta c√≥ th·ªÉ chuy·ªÉn v·ªÅ ki·ªÉu <code>String</code> b·∫±ng l·ªánh <code>.to_string()</code>, v√† ƒë·ªÉ th·ª±c hi·ªán vi·ªác c·ªông chu·ªói, ta c·∫ßn ƒë∆∞a n√≥ v·ªÅ ki·ªÉu <code>&amp;str</code>, v·∫≠y c·∫ßn th√™m v√†o l·ªánh <code>.as_str()</code>, nh∆∞ v·∫≠y ta c√≥ ƒëo·∫°n code implement ƒë·∫ßy ƒë·ªß c·ªßa h√†m <code>traversal()</code> nh∆∞ sau:</p>
<pre><code>impl Node {
    fn traversal(&amp;self) -&gt; String {
        let mut output = String::new();

        // Left
        match self.left {
            Some(ref node) =&gt; { 
                output += node.traversal().as_str();
            },
            None =&gt; { }
        }

        // Root
        output += self.value.to_string().as_str();

        // Right
        match self.right {
            Some(ref node) =&gt; { 
                output += node.traversal().as_str();
            },
            None =&gt; { }
        }

        return output;
    }
}
</code></pre><p>Cu·ªëi c√πng, ch√∫ng ta c√≥ th·ªÉ g·ªçi h√†m n√†y ƒë·ªÉ in ra n·ªôi dung c·ªßa c√¢y:</p>
<pre><code>fn main() {
    ...
    println!(&quot;{}&quot;, tree.traversal());
}
</code></pre><p>K·∫øt qu·∫£ s·∫Ω l√†: </p>
<pre><code>2 7 6 1 8
</code></pre><p>Code ƒë·∫ßy ƒë·ªß c·ªßa ch√∫ng ta s·∫Ω l√†:</p>
<pre><code>struct Node {
    value: i32,
    left: Option&lt;Box&lt;Node&gt;&gt;,
    right: Option&lt;Box&lt;Node&gt;&gt;
}

macro_rules! node {
    ( $($props:ident : $value:expr),* ) =&gt; { 
        Some(Box::new(Node {
            $($props: $value),*
        })) 
    }
}

impl Node {
    fn traversal(&amp;self) -&gt; String {
        let mut output = String::new();

        match self.left {
            Some(ref node) =&gt; { 
                output += node.traversal().as_str();
            },
            None =&gt; { }
        }

        output += self.value.to_string().as_str();

        match self.right {
            Some(ref node) =&gt; { 
                output += node.traversal().as_str();
            },
            None =&gt; { }
        }

        return output;
    }
}

fn main() {
    let tree = Node {
        value: 1,
        left: node!(
            value: 7,
            left: node!(
                value: 2,
                left: None,
                right: None
            ),
            right: node!(
                value: 6,
                left: None,
                right: None
            )
        ),
        right: node!(
            value: 8,
            left: None,
            right: None
        )
    };
    println!(&quot;{}&quot;, tree.traversal());
}
</code></pre><h2 id="k-t-th-c">K·∫øt th√∫c</h2>
<p>V·∫≠y l√† ch√∫ng ta ƒë√£ implement th√†nh c√¥ng m·ªôt thu·∫≠t to√°n ƒë∆°n gi·∫£n trong Rust. V√† h·ªçc ƒë∆∞·ª£c kh√° l√† nhi·ªÅu th·ª© trong qu√° tr√¨nh implement.</p>
<p>C√°c b·∫°n c√≥ th·ªÉ th·ª≠ thay ƒë·ªïi ch∆∞∆°ng tr√¨nh tr√™n ƒë·ªÉ implement ti·∫øp c√°c ki·ªÉu <strong>Pre-order</strong>, <strong>Post-order</strong> ho·∫∑c suy nghƒ© ƒë·ªÉ implement thu·∫≠t to√°n duy·ªát <strong>BFS</strong> xem nh√©.</p>
<p>V√¨ b√†i vi·∫øt c√≥ m·ª•c ƒë√≠ch d·∫´n c√°c b·∫°n ƒëi t·ª´ng b∆∞·ªõc ƒë·ªÉ ·ª©ng d·ª•ng Rust v√†o gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ th∆∞·ªùng g·∫∑p, n√™n thu·∫≠t to√°n ƒë∆∞a ra trong b√†i kh√¥ng ph·∫£i l√† gi·∫£i ph√°p t·ªëi ∆∞u cho b√†i to√°n duy·ªát c√¢y nh·ªã ph√¢n, ·ªü ph·∫ßn ti·∫øp theo ch√∫ng ta s·∫Ω b√†n v·ªÅ c√°c kƒ© thu·∫≠t t·ªëi ∆∞u thu·∫≠t to√°n n√†y.</p>
<p>V√† ƒë·ª´ng qu√™n ƒë·ªçc th√™m c√°c link tham kh·∫£o m√¨nh t·ªïng h·ª£p l·∫°i ·ªü b√™n d∆∞·ªõi. Hy v·ªçng qua b√†i vi·∫øt kh√° d√†i n√†y, c√°c b·∫°n c≈©ng l√†m quen ƒë∆∞·ª£c c√°c ƒëi·ªÉm ƒë·∫∑c bi·ªát trong Rust so v·ªõi c√°c ng√¥n ng·ªØ kh√°c, v√† c√≥ th·ªÉ ti·∫øp t·ª•c t√¨m hi·ªÉu th√™m v·ªÅ ng√¥n ng·ªØ th√∫ v·ªã n√†y.</p>
<h2 id="tham-kh-o">Tham kh·∫£o</h2>
<ul>
<li>[1] Huy Tr·∫ßn, <em><a href="https://huytd.github.io/posts/rust-intro.html">Rust l√† g√¨, c√≥ ƒÉn ƒë∆∞·ª£c kh√¥ng?</a></em>, Huy&#39;s Blog</li>
<li>[2] Th·∫°ch L√™, <em><a href="https://kipalog.com/posts/MIR---Su-tinh-tuy-cua-chu-cua-be-nho-Rust">MIR - S·ª± tinh t√∫y c·ªßa ch√∫ cua b√© nh·ªè Rust</a></em>, Kipalog</li>
<li>[3] <em><a href="https://doc.rust-lang.org/book/the-stack-and-the-heap.html">The Stack and The Heap</a></em>, The Rust Programming Language Book, Ch. 5.1</li>
<li>[4] <em><a href="https://doc.rust-lang.org/book/macros.html">Macros</a></em>, The Rust Programming Language Book, Ch. 4.34</li>
<li>[5] <em><a href="https://doc.rust-lang.org/book/method-syntax.html">Method Syntax</a></em>, The Rust Programming Language Book, Ch. 4.16</li>
<li>[6] <em><a href="https://doc.rust-lang.org/book/match.html">Pattern Matching</a></em>, The Rust Programming Language Book, Ch. 4.14</li>
</ul>

                <div class="copyright">
                B·∫°n ƒë∆∞·ª£c t√πy √Ω b·∫•m like, tr√≠ch d·∫´n ho·∫∑c copy, post l·∫°i, nh∆∞ng vui l√≤ng ghi r√µ ngu·ªìn v√† t√°c gi·∫£ v√† kh√¥ng l√†m thay ƒë·ªïi n·ªôi dung b√†i vi·∫øt. N·∫øu kh√¥ng l√†m v·∫≠y, m√¨nh hy v·ªçng t·ª´ nay v·ªÅ sau b·∫°n s·∫Ω lu√¥n c·∫£m th·∫•y c·∫Øn r·ª©t l∆∞∆°ng t√¢m, ƒÉn kh√¥ng ngon, ng·ªß kh√¥ng y√™n. üòÜ
                </div>
                <div class="fb-like" data-href="http://huytd.github.io/posts/rust-binary-tree-traversal.html" data-layout="standard" data-action="like" data-show-faces="true" data-share="true"></div>
                <div id="disqus_thread"></div>
                <script>
                /**
                * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
                */
                /*
                var disqus_config = function () {
                this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
                this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                };
                */
                (function() { // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');

                s.src = '//huysblog.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
                })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
            </div>
        </div>
	    <div class="footer">
            <p>Created with <a href="http://github.com/huytd/azeroth-js">azeroth.js</a></p>
            <div class="social">
                <a target="_blank" href="http://facebook.com/kingbazoka"><i class="icon-facebook-squared"></i></a>
                <a target="_blank" href="http://twitter.com/huydotnet"><i class="icon-twitter-squared"></i></a>
                <a target="_blank" href="http://github.com/huytd"><i class="icon-github-squared"></i></a>
                <a target="_blank" href="https://thefullsnack.com"><i class="icon-emo-coffee"></i></a>
            </div>
        </div>
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-71353335-1', 'auto');
          ga('send', 'pageview');
        </script>
        <script>
          window.fbAsyncInit = function() {
            FB.init({
              appId      : '462066520669072',
              xfbml      : true,
              version    : 'v2.6'
            });

            FB.Event.subscribe('edge.create', function(url) {
              ga('send', 'social', 'facebook', 'like', url);
            });
          };

          (function(d, s, id){
             var js, fjs = d.getElementsByTagName(s)[0];
             if (d.getElementById(id)) {return;}
             js = d.createElement(s); js.id = id;
             js.src = "//connect.facebook.net/en_US/sdk.js";
             fjs.parentNode.insertBefore(js, fjs);
           }(document, 'script', 'facebook-jssdk'));
        </script>
        <script id="dsq-count-scr" src="//huysblog.disqus.com/count.js" async></script>
        <script type="text/javascript" async src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            skipTags: ["script","noscript","style","textarea"]
          }
        });
        </script>
    </body>
</html>

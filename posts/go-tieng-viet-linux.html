<html>
    <head>
        <title> Chuyá»‡n gÃµ tiáº¿ng Viá»‡t trÃªn Linux | Huy's Blog</title>
        <meta charset="utf-8">
        <meta http-equiv="content-type" content="text/html;"><meta name=viewport content="initial-scale=1.0 maximum-scale=1.0">
        
        <link href="../css/inconsolata.css" rel="stylesheet" type="text/css">
        <link href="../css/theme.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="../css/highlight/tomorrow.css">
        <link rel="stylesheet" href="../css/fontello.css">
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/autosizing.js"></script>
        <script>
        hljs.initHighlightingOnLoad();
        </script>
    </head>
    <body>
        <div class="header">
            <a href="/"><i class="icon icon-emo-coffee"></i> Huy's Blog</a>
        </div>
        <div class="container">
            <div class="main">
                <h1 id="chuy-n-g-ti-ng-vi-t-tr-n-linux">Chuyá»‡n gÃµ tiáº¿ng Viá»‡t trÃªn Linux</h1>
<p>Háº³n lÃ  cÃ¡c báº¡n xÃ i Linux (dÃ¹ lÃ  distro nÃ o) thÃ¬ cÅ©ng Ä‘á»u gáº·p pháº£i má»™t váº¥n Ä‘á» giá»‘ng nhau, Ä‘Ã³ lÃ  <strong>gÃµ tiáº¿ng Viá»‡t</strong>.</p>
<p>ÄÃ£ tá»«ng gÃµ tiáº¿ng Viá»‡t trÃªn Windows vá»›i Unikey hay Vietkey ngÃ y xÆ°a thÃ¬ háº³n ai cÅ©ng cáº£m tháº¥y khÃ¡ lÃ  khÃ³ chá»‹u vá»›i cÃ¡i dáº¥u <u>gáº¡ch Ä‘Ã­t</u> quÃ¡i Ä‘áº£n khi chuyá»ƒn qua xÃ i macOS hoáº·c Linux. Äá»‘i vá»›i cÃ¡c báº¡n chÆ°a biáº¿t, thÃ¬ dáº¥u nÃ y gá»i lÃ  preedit vÃ  lÃ  má»™t phÆ°Æ¡ng phÃ¡p &quot;chÃ­nh thá»‘ng&quot; theo lá»i tÃ¡c giáº£ <a href="https://github.com/lewtds">Trung Ngo</a> (thÃ nh viÃªn team phÃ¡t triá»ƒn BogoEngine) trong bÃ i viáº¿t <a href="http://lewtds.github.io/2014/07/31/uoc-mo-bo-go-kieu-unikey/">Æ¯á»›c mÆ¡ bá»™ gÃµ kiá»ƒu Unikey</a>.</p>
<h2 id="hai-c-ch-g-ti-ng-vi-t">Hai cÃ¡ch gÃµ tiáº¿ng Viá»‡t</h2>
<p>Äáº¡i Ã½ cá»§a bÃ i viáº¿t trÃªn thÃ¬: tá»±u chung, cÃ¡c bá»™ gÃµ tiáº¿ng Viá»‡t hiá»‡n nay cÃ³ <strong>2 cÃ¡ch</strong> Ä‘á»ƒ xá»­ lÃ½ tiáº¿ng Viá»‡t khi gÃµ, Ä‘Ã³ lÃ  <strong>Backspace</strong> vÃ  <strong>Preedit</strong>.</p>
<ul>
<li><strong>Preedit</strong>: lÃ  cÃ¡ch gÃµ xuáº¥t hiá»‡n dáº¥u <u>gáº¡ch Ä‘Ã­t</u>, Ä‘Ã¢y thá»±c cháº¥t lÃ  má»™t vÃ¹ng buffer lÆ°u táº¡m cÃ¡c kÃ­ tá»± Ä‘ang gÃµ, thay tháº¿ nÃ³, vÃ­ dá»¥ <code>aa</code> Ä‘Æ°á»c thay thÃ nh <code>Ã¢</code>, khi ngÆ°Ã²i dÃ¹ng nháº¥n space Ä‘á»ƒ káº¿t thÃºc tá»« Ä‘ang gÃµ thÃ¬ nÃ³ sáº½ commit tá»« Ä‘Ã³ vá» cho UI cá»§a á»©ng dá»¥ng. CÃ¡c bá»™ gÃµ tiáº¿ng Viá»‡t sá»­ dá»¥ng kÄ© thuáº­t nÃ y thÃ¬ cÃ³: ibus-unikey, bá»™ gÃµ tiáº¿ng Viá»‡t máº·c Ä‘á»‹nh cá»§a macOS,...</li>
<li><strong>Backspace giáº£</strong>: lÃ  cÃ¡ch gÃµ khÃ´ng xuáº¥t hiá»‡n dáº¥u <u>gáº¡ch Ä‘Ã­t</u>, cÆ¡ cháº¿ hoáº¡t Ä‘á»™ng cá»§a giáº£i phÃ¡p nÃ y lÃ  khi gÃµ cÃ¡c kÃ­ tá»± tiáº¿ng viá»‡t nhÆ° <code>aa</code>, bá»™ gÃµ sáº½ tá»± Ä‘á»™ng gá»­i 2 dáº¥u <code>backspace</code> vÃ o á»©ng dá»¥ng, vÃ  gá»­i tiáº¿p má»™t kÃ­ tá»± <code>Ã¢</code> thay tháº¿. CÃ¡c bá»™ gÃµ sá»­ dá»¥ng kÄ© thuáº­t nÃ y cÃ³ ibus-bogo, fcitx-bogo, GoTiengViet trÃªn macOS,...</li>
</ul>
<h2 id="k-thu-t-backspace">KÄ© thuáº­t Backspace</h2>
<p>Láº¡i nÃ³i vá» <strong>Backspace giáº£</strong>, trong bÃ i viáº¿t cá»§a mÃ¬nh, tÃ¡c giáº£ Trung Ngo cÃ³ nÃ³i:</p>
<blockquote>
<p>Gáº§n nhÆ° táº¥t cáº£ cÃ¡c bá»™ gÃµ trÃªn Windows (tÃ´i khÃ´ng dÃ¡m cháº¯c nhÆ°ng khÃ´ng thá»ƒ kiá»ƒm chá»©ng Ä‘Æ°á»£c vÃ¬ pháº§n lá»›n lÃ  pháº§n má»m nguá»“n Ä‘Ã³ng) giáº£i quyáº¿t váº¥n Ä‘á» nÃ y báº±ng cÃ¡ch sá»­ dá»¥ng dáº¥u backspace giáº£. </p>
</blockquote>
<p>MÃ¬nh nghÄ© lÃ  Ä‘Ãºng, Ã­t ra lÃ  vá»›i má»™t vÃ i bá»™ gÃµ nhÆ° GoTiengViet trÃªn Windows (khÃ´ng biáº¿t phiÃªn báº£n trÃªn macOS vÃ  Linux anh Tráº§n Ká»³ Nam cÃ³ cáº£i tiáº¿n hay sá»­ dá»¥ng kÄ© thuáº­t khÃ¡c khÃ´ng, mÃ¬nh khÃ´ng kiá»ƒm chá»©ng Ä‘Æ°á»c), vÃ¬ tá»«ng cÃ³ má»™t thá»i gian lÃºc mÃ¬nh cÃ²n tham gia diá»…n Ä‘Ã n <a href="http://caulacbovb.com">CÃ¢u láº¡c bá»™ VB</a>, má»i ngÆ°Ã²i cÅ©ng tháº£o luáº­n vá» váº¥n Ä‘á» phÃ¡t triá»ƒn bá»™ gÃµ, kÄ© thuáº­t há»“i Ä‘Ã³ má»i ngÆ°Ã²i Ã¡p dá»¥ng lÃ : </p>
<pre><code>- Hook keyboard Ä‘á»ƒ báº¯t láº¡i cÃ¡c kÃ­ tá»± Ä‘ang gÃµ
- ÄÆ°a kÃ­ tá»± vá»«a Ä‘Æ°á»c hook vÃ o buffer vÃ  kiá»ƒm tra theo luáº­t gÃµ (Telex, VNI,...)
- Gá»­i backspace Ä‘á»ƒ xÃ³a cÃ¡c kÃ­ tá»± Ä‘Ã£ gÃµ, vÃ­ dá»¥ `aa`
- ÄÆ°a kÃ­ tá»± cáº§n thay tháº¿, vÃ­ dá»¥ `Ã¢`, vÃ o clipboard vÃ  gá»­i phÃ­m `Shift + Insert` 
  hoáº·c `Ctrl + V` Ä‘á»ƒ &quot;dÃ¡n&quot; kÃ­ tá»± nÃ y vÃ o á»©ng dá»¥ng Ä‘ang cháº¡y.
- Hoáº·c gá»­i trá»±c tiáº¿p kÃ­ tá»± cáº§n thay tháº¿ vÃ o thÃ´ng qua API cá»§a Windows
</code></pre><p>VÃ  thÃªm má»™t lÃ½ do ná»¯a Ä‘Ã³ lÃ  láº§n cuá»‘i cÃ¹ng mÃ¬nh check thÃ¬ khÃ´ng nhá»› trÃªn Windows cÃ³ API nÃ o Ä‘á»ƒ há»— trá»£ cÃ¡c kÄ© thuáº­t khÃ¡c ngoÃ i chuyá»‡n send key.</p>
<p>Hiá»‡n giá» ná»™i dung cÃ¡c bÃ i tháº£o luáº­n Ä‘Ã³ váº«n cÃ²n, cÃ¡c báº¡n cÃ³ thá»ƒ tÃ¬m Ä‘á»c Ä‘á»ƒ hiá»ƒu thÃªm:</p>
<ul>
<li>[1] <a href="http://caulacbovb.com/forum/viewtopic.php?t=27082">Tá»«ng bÆ°Ã³c xÃ¢y dá»±ng bá»™ gÃµ Tiáº¿ng Viá»‡t</a>, tuyen_dt18</li>
<li>[2] <a href="http://caulacbovb.com/forum/viewtopic.php?t=13876">MÃ£ nguá»“n bá»™ gÃµ VBKey cá»§a bÃ i viáº¿t trÃªn</a>, tuyen_dt18</li>
<li>[3] <a href="http://caulacbovb.com/forum/viewtopic.php?f=41&amp;t=5858">Thread trao Ä‘á»•i vá» quÃ¡ trÃ¬nh phÃ¡t triá»ƒn cá»§a bá»™ gÃµ GoTiengViet</a>, Tráº§n Ká»³ Nam</li>
<li>[4] <a href="http://caulacbovb.com/forum/viewtopic.php?f=41&amp;t=3238&amp;start=20#p36775">Äoáº¡n trao Ä‘á»•i vá» viá»‡c nÃªn dÃ¹ng Ctrl + V hay Shift + Insert</a>, Tráº§n Ká»³ Nam (GoTiengViet) vÃ  Tienlbhoc (DotNetKey)</li>
</ul>
<h2 id="c-u-tr-c-m-t-b-g-th-ng-th-ng-tr-n-linux">Cáº¥u trÃºc má»™t bá»™ gÃµ thÃ´ng thÆ°á»ng trÃªn Linux</h2>
<p>Pháº£i nÃ³i lÃ  trÃªn <strong>X Window System</strong> má»›i Ä‘Ãºng. CÃ¡c bá»™ gÃµ khÃ¡c nhau cÃ³ nhiá»u cÃ¡ch xá»­ lÃ½ khÃ¡c nhau, Ä‘oáº¡n nÃ y mÃ¬nh chá»‰ nÃ³i Ä‘áº¿n cÃ¡c bá»™ gÃµ dÃ¹ng kiáº¿n trÃºc <strong>X Input Method</strong> (XIM) nhÆ° <strong>ibus</strong>, <strong>SCIM</strong>,...</p>
<p>Náº¿u Ä‘á»ƒ Ã½, cÃ¡c báº¡n sáº½ tháº¥y cÃ¡c bá»™ gÃµ nhÆ° <code>ibus-bogo</code> hay <code>scim-unikey</code> thÆ°Ã²ng hay tá»± gá»i mÃ¬nh lÃ  má»™t frontend cho má»™t cÃ¡i engine gÃ¬ Ä‘Ã³ Ä‘á»ƒ dÃ¹ng vá»›i <code>ibus</code> hoáº·c <code>scim</code>:</p>
<blockquote>
<p>IBus frontend for the BoGo engine.</p>
<p>scim-unikey lÃ  má»™t bá»™ xá»­ lÃ½ nháº­p liá»‡u tiáº¿ng Viá»‡t cho scim, sá»­ dá»¥ng engine xá»­ lÃ½ tiáº¿ng Viá»‡t cá»§a unikey</p>
</blockquote>
<p>Äá»c pháº§n nÃ y sáº½ giÃºp cÃ¡c báº¡n hiá»ƒu thÃªm vá» cÃ¡i vá»¥ &quot;engine gÃ¬ Ä‘Ã³&quot; Ä‘Ã³.</p>
<p>HÃ¬nh sau mÃ´ táº£ toÃ n cáº£nh viá»‡c xá»­ lÃ½ nháº­p liá»‡u trong má»™t há»‡ thá»‘ng X Window System:</p>
<p><img src="img/xinputmethod-arch.png" alt=""></p>
<div style="text-align: center;" class="copyright">HÃ¬nh váº½ láº¡i tá»« tÃ i liá»‡u <a href="http://menehune.opt.wfu.edu/Kokua/Irix_6.5.21_doc_cd/usr/share/Insight/library/SGI_bookshelves/SGI_Developer/books/XLib_PG/sgi_html/ch11.html">Xlib Programming Manual - Chapter 11: Internationalized Text Input</a></div>

<ul>
<li>Khi user nháº¥n má»™t phÃ­m trÃªn bÃ n phÃ­m, keycode cá»§a phÃ­m nÃ y sáº½ Ä‘Æ°á»c gá»­i vá» cho X Server.</li>
<li>X Server gá»­i má»™t sá»± kiá»‡n  nháº¥n phÃ­m (KeyPress Event) tá»›i cho cÃ¡c X client Ä‘ang Ä‘Äƒng kÃ½ chá» event (application sáº½ lÃ m nhiá»‡m vá»¥ bÃ¡o cho client biáº¿t nÃ³ cÃ³ nÃªn Ä‘Äƒng kÃ­ nháº­n event hay ko)</li>
<li>Event loop trÃªn X client sáº½ Ä‘á»c KeyPress Event Ä‘Ã³ báº±ng má»™t lá»‡nh gá»i tá»›i hÃ m <code>XNextEvent()</code></li>
<li>ThÃ´ng tin cá»§a Event nÃ y sáº½ Ä‘Æ°á»£c gá»­i sang Input Method (ibus, scim,...) vÃ  táº¡i Ä‘Ã¢y, tÃ¹y theo má»—i bá»™ gÃµ khÃ¡c nhau, mÃ  sáº½ thá»±c hiá»‡n viá»‡c kiá»ƒm tra cÃ¡c tá»• há»£p phÃ­m Ä‘Æ°á»c nháº¥n, rá»“i thay tháº¿ kÃ­ tá»± cho phÃ¹ há»£p vá»›i táº­p luáº­t cá»§a bá»™ gÃµ, cÃ¡c nhÃ  phÃ¡t triá»ƒn thÆ°Ã²ng viáº¿t riÃªng pháº§n xá»­ lÃ½ nÃ y thÃ nh má»™t engine Ä‘á»ƒ cÃ³ thá»ƒ sá»­ dá»¥ng láº¡i vá»›i nhiá»u loáº¡i bá»™ gÃµ khÃ¡c nhau.</li>
<li>Trong quÃ¡ trÃ¬nh xá»­ lÃ½ (compose), Input Method cÅ©ng sáº½ bÃ¡o láº¡i cho application biáº¿t Ä‘á»ƒ nÃ³ update pháº§n preedit cho phÃ¹ há»£p.</li>
<li>Sau khi xá»­ lÃ½ xong, Input Method sáº½ gá»­i láº¡i ná»™i dung Ä‘Ã£ Ä‘Æ°á»c xá»­ lÃ½ (má»™t tá»« tiáº¿ng Viá»‡t hoÃ n chá»‰nh - composed text) vá» cho X client Ä‘á»ƒ in ra mÃ n hÃ¬nh (bÆ°Ã³c nÃ y lÃ  bÆ°á»›c commit). Commit xong thÃ¬ application cÅ©ng thÃ´i khÃ´ng in cÃ¡i preedit ra ná»¯a.</li>
</ul>
<p>Engine xá»­ lÃ½ viá»‡c bá» dáº¥u (thay tháº¿ kÃ­ tá»± phÃ¹ há»£p vá»›i táº­p luáº­t cá»§a bá»™ gÃµ) cÃ³ ráº¥t nhiá»u loáº¡i khÃ¡c nhau, Ä‘Ã¢y lÃ  <a href="https://github.com/BoGoEngine/bogo-logic/blob/master/literate-src/Bogo.adoc">tÃ i liá»‡u mÃ´ táº£ logic</a> cho engine mÃ  <code>ibus-bogo</code> sá»­ dá»¥ng.</p>
<p>Viá»‡c trao Ä‘á»•i giá»¯a X client vÃ  Input Method Ä‘Æ°á»£c thá»±c hiá»‡n thÃ´ng qua má»™t phÆ°Æ¡ng thá»©c gá»i lÃ  XIM Protocol.</p>
<p>VÃ  nhÆ° cÃ¡c báº¡n tháº¥y thÃ¬ mÃ´ hÃ¬nh nÃ y phá»¥ thuá»™c lá»›n vÃ o preedit, chÃ­nh vÃ¬ váº­y má»›i nÃ³i preedit lÃ  phÆ°ong phÃ¡p chuáº©n cho viá»‡c soáº¡n tháº£o vá»›i cÃ¡c ngÃ´n ngá»¯ ngoÃ i tiáº¿ng Anh.</p>
<h2 id="th-nghi-m-c-c-b-g-tr-n-linux">Thá»­ nghiá»‡m cÃ¡c bá»™ gÃµ trÃªn Linux</h2>
<p>VÃ¬ pháº§n lá»›n thá»i gian lÃ m viá»‡c cá»§a mÃ¬nh lÃ  trÃªn terminal, nÃªn chuyá»‡n cháº¥p nháº­n thÆ°ong Ä‘au mÃ  dÃ¹ng Preedit khi gÃµ lá»‡nh hay xÃ i trong VIM thÃ¬ mÃ¬nh chá»‹u, khÃ´ng lÃ m Ä‘Æ°á»c, nÃªn dÃ¹ khÃ´ng hoÃ n thiá»‡n, mÃ¬nh váº«n cháº¥p nháº­n Ä‘Æ°á»£c cÃ¡c bá»™ gÃµ dÃ¹ng phÆ°ong phÃ¡p dÃ¹ng Backspace, váº­y nÃªn bÃ i viáº¿t nÃ y mÃ¬nh chá»‰ nháº¯m tá»›i viá»‡c tÃ¬m ra bá»™ gÃµ xÃ i Backspace hoáº¡t Ä‘á»™ng hiá»‡u quáº£ nháº¥t trÃªn Linux.</p>
<h3 id="xvnkb">xvnkb</h3>
<p>Bá»™ gÃµ Ä‘áº§u tiÃªn mÃ¬nh tÃ¬m hiá»ƒu thá»­ lÃ  <code>xvnkb</code>, vÃ¬ khÃ¡ áº¥n tÆ°á»ng vá»›i cÃ¡i dÃ²ng release notes trÃªn trang chá»§:</p>
<blockquote>
<p>WoW! After 6 years, we have a new official release! L0LzZzzZZzz...
Some bugs with Firefox and other apps have been fixed in this release.
Still having fun! Hahaha!</p>
</blockquote>
<p>LOL.</p>
<p>QuÃ¡ trÃ¬nh download vÃ  cÃ i Ä‘áº·t diá»…n ra ráº¥t trÆ¡n tru, khÃ´ng cÃ³ lá»—i gÃ¬ xáº£y ra.</p>
<p>NhÆ°ng sau khi cÃ i Ä‘áº·t xong vÃ  restart láº¡i mÃ¡y tÃ­nh thÃ¬ <code>xvnkb</code> lÃ m crash luÃ´n X server vÃ  mÃ¡y tÃ­nh khÃ´ng thá»ƒ khá»Ÿi Ä‘á»™ng vÃ o mÃ´i trÆ°Ã²ng Ä‘á»“ há»a Ä‘Æ°á»c ná»¯a, Ä‘Ã¡ng lÃ½ ra thÃ¬ tá»›i Ä‘Ã¢y mÃ¬nh pháº£i tÃ¬m hiá»ƒu thÃªm lÃ½ do crash lÃ  gÃ¬ nhÆ°ng vÃ¬ vá»«a tá»‘n cÃ´ng cÃ i Ä‘áº·t láº¡i mÃ¡y xong, khÃ¡ lÃ  lÆ°Ã²i, khÃ´ng tháº¥y cháº¡y ná»¯a thÃ¬ cá»© remove tháº³ng tay thÃ´i :)) thÃ nh tháº­t xin lá»—i tÃ¡c giáº£.</p>
<p>Tháº¿ lÃ  á»©ng viÃªn Ä‘áº§u tiÃªn Ä‘Ã£ bá»‹ loáº¡i.</p>
<h3 id="ibus-bogo">ibus-bogo</h3>
<p>Tháº­t sá»± lÃ  sau khi Ä‘á»c bÃ i viáº¿t cá»§a tÃ¡c giáº£ Trung Ngo vÃ  xem homepage cá»§a project trÃªn Github xong thÃ¬ khÃ´ng muá»‘n xÃ i <code>ibus-bogo</code> tÃ­ nÃ o, nhÆ°ng vÃ¬ Ä‘Ã£ háº¿t option rá»“i nÃªn thÃ´i cÃ i vÃ o xÃ i luÃ´n. QuÃ¡ trÃ¬nh cÃ i Ä‘áº·t thÃ¬ khÃ¡ lÃ  Ä‘Æ¡n giáº£n:</p>
<pre><code>$ sudo pacman -S ibus
$ yaourt -S ibus-bogo
</code></pre><p>Äá»ƒ <code>ibus</code> tá»± Ä‘á»™ng khá»Ÿi Ä‘á»™ng thÃ¬ chÃºng ta cÃ³ thá»ƒ thÃªm dÃ²ng sau vÃ o <code>~/.xinitrc</code>:</p>
<pre><code>ibus-daemon -drx
</code></pre><p>Káº¿t quáº£ gÃµ thá»­ nghiá»‡m cho tháº¥y <code>ibus-bogo</code> hoáº¡t Ä‘á»™ng ráº¥t tá»‘t trÃªn terminal, trÃªn cÃ¡c trÃ¬nh duyá»‡t nhÆ° <code>surf</code>, <code>firefox</code>,... khÃ´ng hiá»‡n thanh preedit phiá»n toÃ¡i.</p>
<p>Tuy nhiÃªn vá»›i cháº¿ Ä‘á»™ gÃµ TELEX, má»™t vÃ i tá»« cÃ³ cÃ¡c nguyÃªn Ã¢m <code>Æ°Æ¡</code> nhÆ° <code>trÆ°á»›c, bÆ°á»›c, nÆ°á»›c</code>, ta báº¯t buá»™c pháº£i gÃµ <code>uwow</code> hoáº·c <code>uow</code> náº¿u khÃ´ng muá»‘n bá»‹ sÃ³t máº¥t chá»¯ <code>Æ¡</code>, vÃ­ dá»¥ <code>nÆ°Ã³c, trÆ°Ã³c</code>. CÃ¡c bá»™ gÃµ nhÆ° GoTiengViet hay Unikey trÃªn Mac vÃ  Windows khÃ´ng bá»‹ trÆ°á»ng há»£p nÃ y.</p>
<p>Má»™t nhÆ°á»£c Ä‘iá»ƒm khÃ¡c cá»§a <code>ibus-bogo</code> lÃ  khÃ´ng há»— trá»£ cÃ¡c trÃ¬nh duyá»‡t <code>Chromium</code>, <code>Google Chrome</code>, lÃ½ do thÃ¬ tÃ¡c giáº£ Trung Ngo Ä‘Ã£ giáº£i thÃ­ch trong <a href="https://github.com/BoGoEngine/ibus-bogo/issues/216">Issue #216 - ibus-bogo</a>.</p>
<p>LÃ½ do lá»›n nháº¥t khiáº¿n nhiá»u ngÆ°á»i ngáº¡i dÃ¹ng <code>ibus-bogo</code> cÃ³ láº½ lÃ  vÃ¬ project nÃ y Ä‘Ã£ khÃ´ng cÃ²n Ä‘Æ°á»£c maintain ná»¯a. á» thá»i Ä‘iá»ƒm viáº¿t bÃ i nÃ y, cÃ³ <strong>63 open issues</strong> trÃªn trang Github cá»§a project. ThÃ nh viÃªn cá»§a team phÃ¡t triá»ƒn lÃ  Trung Ngo Ä‘Ã£ ngá»«ng maintain dá»± Ã¡n vÃ¬ báº¥t Ä‘á»“ng quan Ä‘iá»ƒm vá»›i tÃ¡c giáº£ <a href="https://github.com/cmpitg">Ha-Duong Nguyen</a> vÃ  fork ra má»™t project khÃ¡c tÃªn lÃ  <a href="https://github.com/NgoHuy/ibus-ringo"><code>ibus-ringo</code></a> (project nÃ y add thÃªm vÃ i chá»©c nÄƒng khÃ¡c trong Ä‘Ã³ cÃ³ preedit, nÃªn mÃ¬nh ko xÃ i :D)</p>
<h3 id="fcitx-bogo">fcitx-bogo</h3>
<p>Má»™t phiÃªn báº£n khÃ¡c cÅ©ng dÃ¹ng <code>BogoEngine</code> Ä‘Ã³ lÃ  <code>fcitx-bogo</code>, xÃ¢y dá»±ng cho <code>fcitx</code>. CÃ¡ch cÃ i Ä‘áº·t thÃ¬ cÅ©ng Ä‘Æ¡n giáº£n:</p>
<pre><code>$ pacman -S fcitx
$ yaourt -S fcitx-bogo
</code></pre><p>Khá»Ÿi Ä‘á»™ng vá»›i lá»‡nh sau trong <code>~/.xinitrc</code>:</p>
<pre><code>fcitx -d
</code></pre><p>Káº¿t quáº£ thá»­ nghiá»‡m cho tháº¥y bá»™ gÃµ nÃ y hoáº¡t Ä‘á»™ng táº¡m gá»i lÃ  tá»‘t trÃªn má»i pháº§n má»m, trong Ä‘Ã³ Ä‘áº·c biá»‡t lÃ  cÃ³ thá»ƒ gÃµ Ä‘Æ°á»c tiáº¿ng Viá»‡t trÃªn <code>Chromium</code> vÃ  <code>Google Chrome</code> luÃ´n.</p>
<p>Tuy nhiÃªn khi sá»­ dá»¥ng trÃªn terminal thÃ¬ khÃ¡ lÃ  lag, thá»i gian tá»« lÃºc gÃµ phÃ­m cho tá»›i lÃºc hiá»‡n ra kÃ­ tá»± tiáº¿ng Viá»‡t ráº¥t cháº­m, khÃ´ng nhÆ° <code>ibus-bogo</code>, vÃ  thÃªm má»™t Ä‘iá»ƒm trá»« ná»¯a lÃ  ráº¥t khÃ´ng á»•n Ä‘á»‹nh, hay bung lá»¥a kiá»ƒu:</p>
<p><img src="img/fcitx-bogo-bung-lua.png" alt=""></p>
<div class="copyright" style="text-align: center">^B chÃ­nh lÃ  phÃ­m backspace Ä‘Ã³ (ï¿£â–½ï¿£)</div>

<p>VÃ  khi gÃµ trÃªn <code>Firefox</code> thÃ¬ váº«n gáº·p hiá»‡n tÆ°á»£ng khÃ´ng gÃµ Ä‘áº§y Ä‘á»§ dduwocj tiÃªngs ViÃªjt =.= (Ä‘Ã³, bá»‹ nhÆ° váº­y Ä‘Ã³).</p>
<h2 id="k-t-lu-n">Káº¿t luáº­n</h2>
<p>Hy vá»ng bÃ i viáº¿t nÃ y giÃºp cÃ¡c báº¡n cÃ³ thÃªm cÃ¡i nhÃ¬n sÃ¢u hÆ¡n vá» cÃ¡c loáº¡i bá»™ gÃµ tiáº¿ng Viá»‡t hiá»‡n cÃ³ vÃ  nhá»¯ng thá»­ thÃ¡ch vá» máº·t kÄ© thuáº­t mÃ  chÃºng ta Ä‘ang pháº£i Ä‘á»‘i máº·t Ä‘á»ƒ cÃ³ thá»ƒ phÃ¡t triá»ƒn Ä‘Æ°á»c má»™t bá»™ gÃµ tiáº¿ng Viá»‡t hoÃ n chá»‰nh cho mÃ´i trÆ°Ã²ng Linux. </p>
<p>BÃ i viáº¿t chá»‰ dá»±a trÃªn quan Ä‘iá»ƒm chá»§ quan cá»§a tÃ¡c giáº£ khi tÃ¬m hiá»ƒu vá» cÃ¡c bá»™ gÃµ khÃ´ng dÃ¹ng preedit, nÃªn cÃ²n nhiá»u thiáº¿u sÃ³t vÃ  cÃ³ nhiá»u ná»™i dung liÃªn quan Ä‘áº¿n phÆ°ong phÃ¡p chuáº©n (preedit) vÃ  cÃ¡c kÄ© thuáº­t khÃ¡c nhÆ° surrounding text,... Ä‘Ã£ bá»‹ bá» qua. </p>
<p>Hy vá»ng cÃ¡c báº¡n quan tÃ¢m cÃ³ thá»ƒ nhiá»‡t tÃ¬nh gÃ³p Ã½, bá»• sung vÃ  giÃºp mÃ¬nh hoÃ n thiá»‡n bÃ i viáº¿t. Xin cáº£m Æ¡n :D</p>
<div class='other-tags'><b>Tags:</b> <a class='topic-tag' href='https://huytd.github.io/tags/linux.html'>linux</a><a class='topic-tag' href='https://huytd.github.io/tags/opinion.html'>opinion</a><a class='topic-tag' href='https://huytd.github.io/tags/algorithm.html'>algorithm</a></div>
                <div class="copyright">
                Báº¡n Ä‘Æ°á»£c tÃ¹y Ã½ báº¥m like, trÃ­ch dáº«n hoáº·c copy, post láº¡i, nhÆ°ng vui lÃ²ng ghi rÃµ nguá»“n vÃ  tÃ¡c giáº£ vÃ  khÃ´ng lÃ m thay Ä‘á»•i ná»™i dung bÃ i viáº¿t. Náº¿u khÃ´ng lÃ m váº­y, mÃ¬nh hy vá»ng tá»« nay vá» sau báº¡n sáº½ luÃ´n cáº£m tháº¥y cáº¯n rá»©t lÆ°Æ¡ng tÃ¢m, Äƒn khÃ´ng ngon, ngá»§ khÃ´ng yÃªn. ğŸ˜†
                </div>
                <!-- Comment -->
                <div class="comments">
                  <div id="comment-loading" class="loading"></div>
                  <div id="login-box" class="login">
                    Báº¡n cáº§n <button onclick="login()">Login</button> Ä‘á»ƒ comment
                  </div>
                  <div id="comment-box" class="comment-input">
                    <div class="avatar">
                      <img id="user-avatar" src="" width="32" height="32"/>
                    </div>
                    <div class="input">
                      <textarea id="comment-content" onkeyup="autoSizing(this)" onkeydown="submitComment(event)" placeholder="Comment gÃµ vÃ o Ä‘Ã¢y :D"></textarea>
                      <span>GÃµ xong nháº¥n <kbd>Ctrl</kbd> + <kbd>Enter</kbd> Ä‘á»ƒ gá»­i.</span>
                    </div>
                  </div>
                  <ul id="comment-list" class="comment-list"></ul>
                </div>
                <!-- End Comment -->
            </div>
        </div>
	    <div class="footer">
            <p>Created with <a href="http://github.com/huytd/azeroth-js">azeroth.js</a></p>
            <div class="social">
                <a target="_blank" href="http://facebook.com/kingbazoka"><i class="icon-facebook-squared"></i></a>
                <a target="_blank" href="http://twitter.com/huydotnet"><i class="icon-twitter-squared"></i></a>
                <a target="_blank" href="http://github.com/huytd"><i class="icon-github-squared"></i></a>
                <a target="_blank" href="https://thefullsnack.com"><i class="icon-emo-coffee"></i></a>
            </div>
        </div>
        <script type="text/javascript" async src="https://cdn.rawgit.com/mathjax/MathJax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            skipTags: ["script","noscript","style","textarea"]
          }
        });
        </script>
        <script src="https://www.gstatic.com/firebasejs/3.8.0/firebase.js"></script>
        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyA1PnIAlJJ-U6iQJMNnCOknBuziBqGMYcY",
            authDomain: "huys-blog-comment.firebaseapp.com",
            databaseURL: "https://huys-blog-comment.firebaseio.com",
            projectId: "huys-blog-comment",
            storageBucket: "huys-blog-comment.appspot.com",
            messagingSenderId: "317330376829"
          };
          firebase.initializeApp(config);
        </script>
        <script>
          let provider = new firebase.auth.GoogleAuthProvider();
          let auth = firebase.auth();
          let currentUser = null;
          let postCommentURL = 'posts/go-tieng-viet-linux/comments';

          auth.onAuthStateChanged(function(user) {
            document.getElementById("comment-loading").style.display = "none";
            if (user) {
              currentUser = user;
              // Logged in
              document.getElementById("login-box").style.display = "none";
              document.getElementById("comment-box").style.display = "flex";
              document.getElementById("user-avatar").setAttribute("src", user.photoURL);
            } else {
              // Not login yet
              document.getElementById("comment-box").style.display = "none";
              document.getElementById("login-box").style.display = "block";
            }
          });

          const login = function() {
            auth.signInWithPopup(provider)
              .then(function(result) {
              }).catch(function(err) {
              });
          };

          const encodeHTML = function(s) {
            return s.replace(/</g, '&lt;').replace(/"/g, '&quot;').replace(/>/g, '&gt;');
          };

          const saveNewComment = function(comment) {
            if (!currentUser) {
              return;
            }
            let commentData = {
              user: currentUser.displayName,
              avatar: currentUser.photoURL,
              time: (new Date()).toISOString(),
              message: encodeHTML(comment)
            };
            database.ref(postCommentURL).push(commentData);
            document.getElementById("comment-content").value = "";
          };

          const submitComment = function(e) {
            let keyCode = e.which || e.keyCode;
            let ctrlCode = e.ctrlKey || e.metaKey;
            if (keyCode === 13 && ctrlCode) {
              let comment = document.getElementById("comment-content").value;
              saveNewComment(comment);
            }
          };

          const filterURLinComment = function(comment) {
            return comment.replace(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9]\.[^\s]{2,})/g, "<a target='_blank' rel='noopener noreferrer' href='$1'>$1</a>");
          };

          const addNewComment = function(user, avatar, time, comment) {
            let commentFiltered = encodeHTML(comment);
            commentFiltered = filterURLinComment(commentFiltered);
            let d = new Date(time);
            let commentTime = d.toLocaleTimeString() + ' ' + d.toLocaleDateString();
            let html = '<div class="avatar">' +
              '   <img src="' + avatar + '" width="32" height="32"/>' +
              ' </div>' +
              '<div class="comment">' +
              '  <div class="metadata"><b>' + user + '</b> lÃºc <span>' + commentTime + '</span></div>' +
              '  <div class="content">' + commentFiltered
              '  </div>' +
              '</div>';
            let li = document.createElement('li');
            li.innerHTML = html;
            document.getElementById("comment-list").append(li);
          };

          let database = firebase.database();
          let posts = database.ref(postCommentURL).orderByChild('time');
          posts.on('child_added', function(data) {
            addNewComment(data.val().user, data.val().avatar, data.val().time, data.val().message);
          });
        </script>
    </body>
</html>
